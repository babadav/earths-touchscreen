{"version":3,"sources":["Draggable.js"],"names":["_gsScope","module","exports","global","window","_gsQueue","push","_gsDefine","EventDispatcher","TweenLite","CSSPlugin","_tempVarsXY","css","_tempVarsX","_tempVarsY","_tempVarsRotation","_globals","globals","_tempEvent","_doc","document","_docElement","documentElement","_createElement","type","createElementNS","createElement","_tempDiv","_emptyArray","_emptyFunc","_RAD2DEG","Math","PI","_max","_getTime","Date","now","getTime","_isOldIE","addEventListener","all","_placeholderDiv","_renderQueue","_lookup","_lookupCount","_clickableTagExp","_dragCount","_prefix","_isMultiTouching","_isAndroid","navigator","userAgent","toLowerCase","indexOf","_lastDragTime","_temp1","_temp2","_windowProxy","_slice","a","selector","nodeType","b","l","length","i","ThrowPropsPlugin","_renderQueueTick","_addToRenderQueue","func","ticker","_removeFromRenderQueue","splice","to","_renderQueueTimeout","overwrite","delay","onComplete","removeEventListener","_extend","obj","defaults","p","undefined","_getDocScrollTop","pageYOffset","scrollTop","body","_getDocScrollLeft","pageXOffset","scrollLeft","_addScrollListener","e","callback","_addListener","_isRoot","parentNode","_removeScrollListener","_removeListener","_getMaxScroll","element","axis","dim","scroll","client","max","_recordMaxScrolls","isRoot","x","y","_gsMaxScrollX","_gsMaxScrollY","_gsScrollX","_gsScrollY","_populateIEEvent","preventDefault","event","pageX","clientX","pageY","clientY","returnValue","_unwrapElement","value","style","_checkPrefix","s","capped","charAt","toUpperCase","substr","_setStyle","removeProperty","replace","removeAttribute","_getComputedStyle","defaultView","getComputedStyle","_horizExp","_suffixExp","_convertToPixels","t","v","sfx","recurse","horiz","test","node","neg","pix","clientWidth","clientHeight","cssText","_getStyle","appendChild","parseFloat","removeChild","_calculateOffset","prop","keepUnits","rv","_gsTransform","cs","getPropertyValue","currentStyle","_dispatchEvent","instance","callbackName","vars","listeners","_listeners","apply","callbackScope","pointerEvent","dispatchEvent","_getBounds","context","top","left","offset","_getOffsetTransformOrigin","width","height","min","minX","minRotation","minY","maxX","maxRotation","maxY","_getElementBounds","_svgBorderFactor","_svgBorderScales","_svgScrollOffset","_hasBorderBug","_setEnvironmentVariables","div","svg","wrapper","parent","matrix","e1","point","oldValue","_transformProp","position","offsetTop","border","setAttributeNS","display","boxSizing","transform","createSVGPoint","matrixTransform","getScreenCTM","f","_supports3D","_transformOriginProp","_transformPropCSS","_point1","_point2","_SVGElement","SVGElement","_isSVG","getBBox","getCTM","_isIE10orBelow","exec","RegExp","$1","_tempTransforms","_tempElements","_getSVGOffsets","getBoundingClientRect","offsetLeft","scaleX","scaleY","offsetParent","Draggable","cacheSVGData","_gsCache","lastUpdate","frame","curElement","cache","_cache","eRect","parentRect","m","point1","point2","borderWidth","borderHeight","isSVGRoot","nodeName","borderBox","getAttribute","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","decoratee","split","isNaN","set","xOrigin","console","log","yOrigin","offsetWidth","offsetHeight","isSVG","curSVG","computedStyle","insertBefore","_getOffset2DMatrix","offsetOrigin","parentOffsetOrigin","zeroOrigin","parentCache","parentOffsetParent","offsets","rect","sx","sy","offsetX","offsetY","borderTop","borderLeft","borderTranslateX","borderTranslateY","match","parseInt","Number","_getConcatenatedMatrix","invert","originOffset","parentOriginOffset","c","d","tx","ty","m2","determinant","_localToGlobal","fromTopLeft","_localizePoint","localToGlobal","globalToLocal","origin","right","bottom","mLocalToGlobal","mGlobalToLocal","p1","p2","p3","p4","bbox","viewBox","viewBoxX","viewBoxY","computedDimensions","innerWidth","innerHeight","_isArrayLike","_flattenArray","result","j","_isTouchDevice","_touchEventLookup","types","standard","converted","onpointerdown","onmspointerdown","capture","attachEvent","detachEvent","_hasTouchID","list","ID","identifier","_onMultiTouchDocumentEnd","touches","target","_onMultiTouchDocument","_parseThrowProps","draggable","snap","factor","forceZeroVelocity","Array","end","call","velocity","_isClickable","data","onclick","_setSelectable","elements","selectable","ondragstart","onselectstart","_addPaddingBR","_addPaddingLeft","child","childStyle","val","innerHTML","scrollHeight","paddingRight","scrollWidth","ScrollProxy","content","firstChild","prevTop","prevLeft","extraPadRight","maxLeft","maxTop","elementWidth","elementHeight","contentHeight","nextNode","transformStart","transformEnd","force3D","force","arguments","dif","oldOffset","killTweensOf","onKill","_suspendTransforms","maxScrollTop","maxScrollLeft","disable","nextSibling","enable","calibrate","widthMatches","overflow","verticalAlign","paddingBottom","zoom","com","greensock","plugins","rotation","dragResistance","edgeResistance","lockAxis","autoScroll","lockedAxis","allowEventDefault","xyMode","rotationMode","xProp","yProp","allowX","allowY","minimumMovement","self","triggers","trigger","handle","killProps","dragEndTime","checkAutoScrollBounds","isClickable","clickableTest","enabled","scrollProxy","startPointerX","startPointerY","startElementX","startElementY","hasBounds","hasDragCallback","tempVars","cssVars","touch","touchID","rotationOrigin","dirty","old","snapX","snapY","isClicking","touchEventTarget","interrupted","clickTime","startScrollTop","startScrollLeft","applyObj","allowNativeTouchScrolling","touchDragAxis","isDispatching","render","suppressEvents","isDragging","autoScrollFactor","pointerX","pointerY","changeX","changeY","gap","scrollTo","setPointerPosition","setRatio","syncXY","skipOnUpdate","skipSnap","snappedValue","calculateBounds","bounds","targetBounds","snapIsRaw","liveSnap","buildSnapFunc","onThrowComplete","isThrowing","onThrowOverwrite","animate","throwProps","tween","overshootTolerance","resistance","throwResistance","ease","Power3","easeOut","onOverwrite","onUpdate","fastMode","onUpdateParams","maxDuration","minDuration","duration","endX","endY","endRotation","play","applyBounds","updateMatrix","recordStartPositions","edgeTolerance","isTweening","atan2","isActive","n","isPressed","closest","absDif","onPress","temp","currentTarget","onRelease","onMove","dragClickables","preventManipulation","changedTouches","pointerId","kill","zIndexBoost","zIndex","onDrag","drag","cursor","originalEvent","abs","lockAxisOnTouchScroll","onLockAxis","cancelable","dragTolerance","xChange","yChange","round","wasDragging","syntheticEvent","eventTarget","srcElement","click","createEvent","initEvent","updateScroll","deltaX","deltaY","onClick","time","recentlyClicked","recentlyDragged","suppressClickOnDrag","stopImmediatePropagation","get","startDrag","endDrag","timeSinceDrag","hitTest","threshold","getDirection","from","diagonalThreshold","mode","ratio","direction","r1","r2","_parseRect","getVelocity","newBounds","update","ignoreExternalChanges","id","track","_gsDragID","_internals","setTransformRatio","set3DTransformRatio","dragging","untrack","overflowY","overflowX","prototype","constructor","version","create","targets","_tempRect","_oldIERect","r","obj1","obj2","isOutside","overlap","area","isRatio","pop","name","getGlobal","GreenSockGlobals","define","amd","require"],"mappings":"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","file":"Draggable.js","sourcesContent":["/*!\n * VERSION: 0.14.1\n * DATE: 2015-09-05\n * UPDATES AND DOCS AT: http://greensock.com\n *\n * Requires TweenLite and CSSPlugin version 1.17.0 or later (TweenMax contains both TweenLite and CSSPlugin). ThrowPropsPlugin is required for momentum-based continuation of movement after the mouse/touch is released (ThrowPropsPlugin is a membership benefit of Club GreenSock - http://greensock.com/club/).\n *\n * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.\n * This work is subject to the terms at http://greensock.com/standard-license or for\n * Club GreenSock members, the software agreement that was issued with your membership.\n * \n * @author: Jack Doyle, jack@greensock.com\n */\nvar _gsScope = (typeof(module) !== \"undefined\" && module.exports && typeof(global) !== \"undefined\") ? global : this || window; //helps ensure compatibility with AMD/RequireJS and CommonJS/Node\n(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push( function() {\n\n\t\"use strict\";\n\n\t_gsScope._gsDefine(\"utils.Draggable\", [\"events.EventDispatcher\",\"TweenLite\",\"plugins.CSSPlugin\"], function(EventDispatcher, TweenLite, CSSPlugin) {\n\n\t\tvar _tempVarsXY = {css:{}}, //speed optimization - we reuse the same vars object for x/y TweenLite.set() calls to minimize garbage collection tasks and improve performance.\n\t\t\t_tempVarsX = {css:{}},\n\t\t\t_tempVarsY = {css:{}},\n\t\t\t_tempVarsRotation = {css:{}},\n\t\t\t_globals = _gsScope._gsDefine.globals,\n\t\t\t_tempEvent = {}, //for populating with pageX/pageY in old versions of IE\n\t\t\t_doc = document,\n\t\t\t_docElement = _doc.documentElement || {},\n\t\t\t_createElement = function(type) {\n\t\t\t\treturn _doc.createElementNS ? _doc.createElementNS(\"http://www.w3.org/1999/xhtml\", type) : _doc.createElement(type);\n\t\t\t},\n\t\t\t_tempDiv = _createElement(\"div\"),\n\t\t\t_emptyArray = [],\n\t\t\t_emptyFunc = function() { return false; },\n\t\t\t_RAD2DEG = 180 / Math.PI,\n\t\t\t_max = 999999999999999,\n\t\t\t_getTime = Date.now || function() {return new Date().getTime();},\n\t\t\t_isOldIE = !!(!_doc.addEventListener && _doc.all),\n\t\t\t_placeholderDiv = _doc.createElement(\"div\"),\n\t\t\t_renderQueue = [],\n\t\t\t_lookup = {}, //when a Draggable is created, the target gets a unique _gsDragID property that allows gets associated with the Draggable instance for quick lookups in Draggable.get(). This avoids circular references that could cause gc problems.\n\t\t\t_lookupCount = 0,\n\t\t\t_clickableTagExp = /^(?:a|input|textarea|button|select)$/i,\n\t\t\t_dragCount = 0, //total number of elements currently being dragged\n\t\t\t_prefix,\n\t\t\t_isMultiTouching,\n\t\t\t_isAndroid = (navigator.userAgent.toLowerCase().indexOf(\"android\") !== -1), //Android handles touch events in an odd way and it's virtually impossible to \"feature test\" so we resort to UA sniffing\n\t\t\t_lastDragTime = 0,\n\t\t\t_temp1 = {}, // a simple object we reuse and populate (usually x/y properties) to conserve memory and improve performance.\n\t\t\t_temp2 = {},\n\t\t\t_windowProxy = {}, //memory/performance optimization - we reuse this object during autoScroll to store window-related bounds/offsets.\n\t\t\t_slice = function(a) { //don't use Array.prototype.slice.call(target, 0) because that doesn't work in IE8 with a NodeList that's returned by querySelectorAll()\n\t\t\t\tif (typeof(a) === \"string\") {\n\t\t\t\t\ta = TweenLite.selector(a);\n\t\t\t\t}\n\t\t\t\tif (!a || a.nodeType) { //if it's not an array, wrap it in one.\n\t\t\t\t\treturn [a];\n\t\t\t\t}\n\t\t\t\tvar b = [],\n\t\t\t\t\tl = a.length,\n\t\t\t\t\ti;\n\t\t\t\tfor (i = 0; i !== l; b.push(a[i++]));\n\t\t\t\treturn b;\n\t\t\t},\n\t\t\tThrowPropsPlugin,\n\n\t\t\t_renderQueueTick = function() {\n\t\t\t\tvar i = _renderQueue.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t_renderQueue[i]();\n\t\t\t\t}\n\t\t\t},\n\t\t\t_addToRenderQueue = function(func) {\n\t\t\t\t_renderQueue.push(func);\n\t\t\t\tif (_renderQueue.length === 1) {\n\t\t\t\t\tTweenLite.ticker.addEventListener(\"tick\", _renderQueueTick, this, false, 1);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_removeFromRenderQueue = function(func) {\n\t\t\t\tvar i = _renderQueue.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tif (_renderQueue[i] === func) {\n\t\t\t\t\t\t_renderQueue.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tTweenLite.to(_renderQueueTimeout, 0, {overwrite:\"all\", delay:15, onComplete:_renderQueueTimeout}); //remove the \"tick\" listener only after the render queue is empty for 15 seconds (to improve performance). Adding/removing it constantly for every click/touch wouldn't deliver optimal speed, and we also don't want the ticker to keep calling the render method when things are idle for long periods of time (we want to improve battery life on mobile devices).\n\t\t\t},\n\t\t\t_renderQueueTimeout = function() {\n\t\t\t\tif (!_renderQueue.length) {\n\t\t\t\t\tTweenLite.ticker.removeEventListener(\"tick\", _renderQueueTick);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t_extend = function(obj, defaults) {\n\t\t\t\tvar p;\n\t\t\t\tfor (p in defaults) {\n\t\t\t\t\tif (obj[p] === undefined) {\n\t\t\t\t\t\tobj[p] = defaults[p];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn obj;\n\t\t\t},\n\t\t\t_getDocScrollTop = function() {\n\t\t\t\treturn (window.pageYOffset != null) ? window.pageYOffset : (_doc.scrollTop != null) ? _doc.scrollTop : _docElement.scrollTop || _doc.body.scrollTop || 0;\n\t\t\t},\n\t\t\t_getDocScrollLeft = function() {\n\t\t\t\treturn (window.pageXOffset != null) ? window.pageXOffset : (_doc.scrollLeft != null) ? _doc.scrollLeft : _docElement.scrollLeft || _doc.body.scrollLeft || 0;\n\t\t\t},\n\t\t\t_addScrollListener = function(e, callback) {\n\t\t\t\t_addListener(e, \"scroll\", callback);\n\t\t\t\tif (!_isRoot(e.parentNode)) {\n\t\t\t\t\t_addScrollListener(e.parentNode, callback);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_removeScrollListener = function(e, callback) {\n\t\t\t\t_removeListener(e, \"scroll\", callback);\n\t\t\t\tif (!_isRoot(e.parentNode)) {\n\t\t\t\t\t_removeScrollListener(e.parentNode, callback);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_isRoot = function (e) {\n\t\t\t\treturn !!(!e || e === _docElement || e === _doc || e === _doc.body || e === window || !e.nodeType || !e.parentNode);\n\t\t\t},\n\t\t\t_getMaxScroll = function(element, axis) {\n\t\t\t\tvar dim = (axis === \"x\") ? \"Width\" : \"Height\",\n\t\t\t\t\tscroll = \"scroll\" + dim,\n\t\t\t\t\tclient = \"client\" + dim,\n\t\t\t\t\tbody = _doc.body;\n\t\t\t\treturn Math.max(0, _isRoot(element) ? Math.max(_docElement[scroll], body[scroll]) - (window[\"inner\" + dim] || _docElement[client] || body[client]) : element[scroll] - element[client]);\n\t\t\t},\n\t\t\t_recordMaxScrolls = function(e) { //records _gsMaxScrollX and _gsMaxScrollY properties for the element and all ancestors up the chain so that we can cap it, otherwise dragging beyond the edges with autoScroll on can endlessly scroll.\n\t\t\t\tvar isRoot = _isRoot(e),\n\t\t\t\t\tx = _getMaxScroll(e, \"x\"),\n\t\t\t\t\ty = _getMaxScroll(e, \"y\");\n\t\t\t\tif (isRoot) {\n\t\t\t\t\te = _windowProxy;\n\t\t\t\t} else {\n\t\t\t\t\t_recordMaxScrolls(e.parentNode);\n\t\t\t\t}\n\t\t\t\te._gsMaxScrollX = x;\n\t\t\t\te._gsMaxScrollY = y;\n\t\t\t\te._gsScrollX = e.scrollLeft || 0;\n\t\t\t\te._gsScrollY = e.scrollTop || 0;\n\t\t\t},\n\n\t\t\t//just used for IE8 and earlier to normalize events and populate pageX/pageY\n\t\t\t_populateIEEvent = function(e, preventDefault) {\n\t\t\t\te = e || window.event;\n\t\t\t\t_tempEvent.pageX = e.clientX + _doc.body.scrollLeft + _docElement.scrollLeft;\n\t\t\t\t_tempEvent.pageY = e.clientY + _doc.body.scrollTop + _docElement.scrollTop;\n\t\t\t\tif (preventDefault) {\n\t\t\t\t\te.returnValue = false;\n\t\t\t\t}\n\t\t\t\treturn _tempEvent;\n\t\t\t},\n\n\t\t\t//grabs the first element it finds (and we include the window as an element), so if it's selector text, it'll feed that value to TweenLite.selector, if it's a jQuery object or some other selector engine's result, it'll grab the first one, and same for an array. If the value doesn't contain a DOM element, it'll just return null.\n\t\t\t_unwrapElement = function(value) {\n\t\t\t\tif (!value) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t\tif (typeof(value) === \"string\") {\n\t\t\t\t\tvalue = TweenLite.selector(value);\n\t\t\t\t}\n\t\t\t\tif (value.length && value !== window && value[0] && value[0].style && !value.nodeType) {\n\t\t\t\t\tvalue = value[0];\n\t\t\t\t}\n\t\t\t\treturn (value === window || (value.nodeType && value.style)) ? value : null;\n\t\t\t},\n\n\t\t\t_checkPrefix = function(e, p) {\n\t\t\t\tvar s = e.style,\n\t\t\t\t\tcapped, i, a;\n\t\t\t\tif (s[p] === undefined) {\n\t\t\t\t\ta = [\"O\",\"Moz\",\"ms\",\"Ms\",\"Webkit\"];\n\t\t\t\t\ti = 5;\n\t\t\t\t\tcapped = p.charAt(0).toUpperCase() + p.substr(1);\n\t\t\t\t\twhile (--i > -1 && s[a[i]+capped] === undefined) { }\n\t\t\t\t\tif (i < 0) {\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t}\n\t\t\t\t\t_prefix = (i === 3) ? \"ms\" : a[i];\n\t\t\t\t\tp = _prefix + capped;\n\t\t\t\t}\n\t\t\t\treturn p;\n\t\t\t},\n\n\t\t\t_setStyle = function(e, p, value) {\n\t\t\t\tvar s = e.style;\n\t\t\t\tif (!s) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (s[p] === undefined) {\n\t\t\t\t\tp = _checkPrefix(e, p);\n\t\t\t\t}\n\t\t\t\tif (value == null) {\n\t\t\t\t\tif (s.removeProperty) {\n\t\t\t\t\t\ts.removeProperty(p.replace(/([A-Z])/g, \"-$1\").toLowerCase());\n\t\t\t\t\t} else { //note: old versions of IE use \"removeAttribute()\" instead of \"removeProperty()\"\n\t\t\t\t\t\ts.removeAttribute(p);\n\t\t\t\t\t}\n\t\t\t\t} else if (s[p] !== undefined) {\n\t\t\t\t\ts[p] = value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t_getComputedStyle = _doc.defaultView ? _doc.defaultView.getComputedStyle : _emptyFunc,\n\t\t\t_horizExp = /(?:Left|Right|Width)/i,\n\t\t\t_suffixExp = /(?:\\d|\\-|\\+|=|#|\\.)*/g,\n\t\t\t_convertToPixels = function(t, p, v, sfx, recurse) {\n\t\t\t\tif (sfx === \"px\" || !sfx) { return v; }\n\t\t\t\tif (sfx === \"auto\" || !v) { return 0; }\n\t\t\t\tvar horiz = _horizExp.test(p),\n\t\t\t\t\tnode = t,\n\t\t\t\t\tstyle = _tempDiv.style,\n\t\t\t\t\tneg = (v < 0),\n\t\t\t\t\tpix;\n\t\t\t\tif (neg) {\n\t\t\t\t\tv = -v;\n\t\t\t\t}\n\t\t\t\tif (sfx === \"%\" && p.indexOf(\"border\") !== -1) {\n\t\t\t\t\tpix = (v / 100) * (horiz ? t.clientWidth : t.clientHeight);\n\t\t\t\t} else {\n\t\t\t\t\tstyle.cssText = \"border:0 solid red;position:\" + _getStyle(t, \"position\", true) + \";line-height:0;\";\n\t\t\t\t\tif (sfx === \"%\" || !node.appendChild) {\n\t\t\t\t\t\tnode = t.parentNode || _doc.body;\n\t\t\t\t\t\tstyle[(horiz ? \"width\" : \"height\")] = v + sfx;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstyle[(horiz ? \"borderLeftWidth\" : \"borderTopWidth\")] = v + sfx;\n\t\t\t\t\t}\n\t\t\t\t\tnode.appendChild(_tempDiv);\n\t\t\t\t\tpix = parseFloat(_tempDiv[(horiz ? \"offsetWidth\" : \"offsetHeight\")]);\n\t\t\t\t\tnode.removeChild(_tempDiv);\n\t\t\t\t\tif (pix === 0 && !recurse) {\n\t\t\t\t\t\tpix = _convertToPixels(t, p, v, sfx, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn neg ? -pix : pix;\n\t\t\t},\n\t\t\t_calculateOffset = function(t, p) { //for figuring out \"top\" or \"left\" in px when it's \"auto\". We need to factor in margin with the offsetLeft/offsetTop\n\t\t\t\tif (_getStyle(t, \"position\", true) !== \"absolute\") { return 0; }\n\t\t\t\tvar dim = ((p === \"left\") ? \"Left\" : \"Top\"),\n\t\t\t\t\tv = _getStyle(t, \"margin\" + dim, true);\n\t\t\t\treturn t[\"offset\" + dim] - (_convertToPixels(t, p, parseFloat(v), (v + \"\").replace(_suffixExp, \"\")) || 0);\n\t\t\t},\n\n\t\t\t_getStyle = function(element, prop, keepUnits) {\n\t\t\t\tvar rv = (element._gsTransform || {})[prop],\n\t\t\t\t\tcs;\n\t\t\t\tif (rv || rv === 0) {\n\t\t\t\t\treturn rv;\n\t\t\t\t} else if (element.style[prop]) {\n\t\t\t\t\trv = element.style[prop];\n\t\t\t\t} else if ((cs = _getComputedStyle(element))) {\n\t\t\t\t\trv = cs.getPropertyValue(prop.replace(/([A-Z])/g, \"-$1\").toLowerCase());\n\t\t\t\t\trv = (rv || cs.length) ? rv : cs[prop]; //Opera behaves VERY strangely - length is usually 0 and cs[prop] is the only way to get accurate results EXCEPT when checking for -o-transform which only works with cs.getPropertyValue()!\n\t\t\t\t} else if (element.currentStyle) {\n\t\t\t\t\trv = element.currentStyle[prop];\n\t\t\t\t}\n\t\t\t\tif (rv === \"auto\" && (prop === \"top\" || prop === \"left\")) {\n\t\t\t\t\trv = _calculateOffset(element, prop);\n\t\t\t\t}\n\t\t\t\treturn keepUnits ? rv : parseFloat(rv) || 0;\n\t\t\t},\n\n\t\t\t_dispatchEvent = function(instance, type, callbackName) {\n\t\t\t\tvar vars = instance.vars,\n\t\t\t\t\tcallback = vars[callbackName],\n\t\t\t\t\tlisteners = instance._listeners[type];\n\t\t\t\tif (typeof(callback) === \"function\") {\n\t\t\t\t\tcallback.apply(vars[callbackName + \"Scope\"] || vars.callbackScope || instance, vars[callbackName + \"Params\"] || [instance.pointerEvent]);\n\t\t\t\t}\n\t\t\t\tif (listeners) {\n\t\t\t\t\tinstance.dispatchEvent(type);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_getBounds = function(obj, context) { //accepts any of the following: a DOM element, jQuery object, selector text, or an object defining bounds as {top, left, width, height} or {minX, maxX, minY, maxY}. Returns an object with left, top, width, and height properties.\n\t\t\t\tvar e = _unwrapElement(obj),\n\t\t\t\t\ttop, left, offset;\n\t\t\t\tif (!e) {\n\t\t\t\t\tif (obj.left !== undefined) {\n\t\t\t\t\t\toffset = _getOffsetTransformOrigin(context); //the bounds should be relative to the origin\n\t\t\t\t\t\treturn {left: obj.left - offset.x, top: obj.top - offset.y, width: obj.width, height: obj.height};\n\t\t\t\t\t}\n\t\t\t\t\tleft = obj.min || obj.minX || obj.minRotation || 0;\n\t\t\t\t\ttop = obj.min || obj.minY || 0;\n\t\t\t\t\treturn {left:left, top:top, width:(obj.max || obj.maxX || obj.maxRotation || 0) - left, height:(obj.max || obj.maxY || 0) - top};\n\t\t\t\t}\n\t\t\t\treturn _getElementBounds(e, context);\n\t\t\t},\n\n\t\t\t_svgBorderFactor,\n\t\t\t_svgBorderScales,\n\t\t\t_svgScrollOffset,\n\t\t\t_hasBorderBug,\n\t\t\t_setEnvironmentVariables = function() { //some browsers factor the border into the SVG coordinate space, some don't (like Firefox). Some apply transforms to them, some don't. We feature-detect here so we know how to handle the border(s). We can't do this immediately - we must wait for the document.body to exist.\n\t\t\t\tif (!_doc.createElementNS) {\n\t\t\t\t\t_svgBorderFactor = 0;\n\t\t\t\t\t_svgBorderScales = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar div = _createElement(\"div\"),\n\t\t\t\t\tsvg = _doc.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\"),\n\t\t\t\t\twrapper = _createElement(\"div\"),\n\t\t\t\t\tstyle = div.style,\n\t\t\t\t\tparent = _doc.body || _docElement,\n\t\t\t\t\tmatrix, e1, point, oldValue;\n\t\t\t\tif (_doc.body && _transformProp) {\n\t\t\t\t\tstyle.position = wrapper.style.position = \"absolute\";\n\t\t\t\t\tparent.appendChild(wrapper);\n\t\t\t\t\twrapper.appendChild(div);\n\t\t\t\t\tstyle.height = \"10px\";\n\t\t\t\t\toldValue = div.offsetTop;\n\t\t\t\t\twrapper.style.border = \"5px solid red\";\n\t\t\t\t\t_hasBorderBug = (oldValue !== div.offsetTop); //some browsers, like Firefox 38, cause the offsetTop/Left to be affected by a parent's border.\n\t\t\t\t\tparent.removeChild(wrapper);\n\t\t\t\t}\n\t\t\t\tstyle = svg.style;\n\t\t\t\tsvg.setAttributeNS(null, \"width\", \"400px\");\n\t\t\t\tsvg.setAttributeNS(null, \"height\", \"400px\");\n\t\t\t\tsvg.setAttributeNS(null, \"viewBox\", \"0 0 400 400\");\n\t\t\t\tstyle.display = \"block\";\n\t\t\t\tstyle.boxSizing = \"border-box\";\n\t\t\t\tstyle.border = \"0px solid red\";\n\t\t\t\tstyle.transform = \"none\";\n\t\t\t\t// in some browsers (like certain flavors of Android), the getScreenCTM() matrix is contaminated by the scroll position. We can run some logic here to detect that condition, but we ended up not needing this because we found another workaround using getBoundingClientRect().\n\t\t\t\tdiv.style.cssText = \"width:100px;height:100px;overflow:scroll\";\n\t\t\t\tparent.appendChild(div);\n\t\t\t\tdiv.appendChild(svg);\n\t\t\t\tpoint = svg.createSVGPoint().matrixTransform(svg.getScreenCTM());\n\t\t\t\te1 = point.y;\n\t\t\t\tdiv.scrollTop = 100;\n\t\t\t\tpoint.x = point.y = 0;\n\t\t\t\tpoint = point.matrixTransform(svg.getScreenCTM());\n\t\t\t\t_svgScrollOffset = (e1 - point.y < 100.1) ? 0 : e1 - point.y - 150;\n\t\t\t\tdiv.removeChild(svg);\n\t\t\t\tparent.removeChild(div);\n\t\t\t\t// -- end _svgScrollOffset calculation.\n\t\t\t\tparent.appendChild(svg);\n\t\t\t\tmatrix = svg.getScreenCTM();\n\t\t\t\te1 = matrix.e;\n\t\t\t\tstyle.border = \"50px solid red\";\n\t\t\t\tmatrix = svg.getScreenCTM();\n\t\t\t\tif (e1 === 0 && matrix.e === 0 && matrix.f === 0 && matrix.a === 1) { //Opera has a bunch of bugs - it doesn't adjust the x/y of the matrix, nor does it scale when box-sizing is border-box but it does so elsewhere; to get the correct behavior we set _svgBorderScales to true.\n\t\t\t\t\t_svgBorderFactor = 1;\n\t\t\t\t\t_svgBorderScales = true;\n\t\t\t\t} else {\n\t\t\t\t\t_svgBorderFactor = (e1 !== matrix.e) ? 1 : 0;\n\t\t\t\t\t_svgBorderScales = (matrix.a !== 1);\n\t\t\t\t}\n\t\t\t\tparent.removeChild(svg);\n\t\t\t},\n\n\t\t\t_supports3D = (_checkPrefix(_tempDiv, \"perspective\") !== \"\"),\n\n\t\t\t// start matrix and point conversion methods...\n\t\t\t_transformOriginProp = _checkPrefix(_tempDiv, \"transformOrigin\").replace(/^ms/g, \"Ms\").replace(/([A-Z])/g, \"-$1\").toLowerCase(),\n\t\t\t_transformProp = _checkPrefix(_tempDiv, \"transform\"),\n\t\t\t_transformPropCSS = _transformProp.replace(/^ms/g, \"Ms\").replace(/([A-Z])/g, \"-$1\").toLowerCase(),\n\t\t\t_point1 = {}, //we reuse _point1 and _point2 objects inside matrix and point conversion methods to conserve memory and minimize garbage collection tasks.\n\t\t\t_point2 = {},\n\t\t\t_SVGElement = window.SVGElement,\n\t\t\t_isSVG = function(e) {\n\t\t\t\treturn !!(_SVGElement && typeof(e.getBBox) === \"function\" && e.getCTM && (!e.parentNode || (e.parentNode.getBBox && e.parentNode.getCTM)));\n\t\t\t},\n\t\t\t_isIE10orBelow = (((/MSIE ([0-9]{1,}[\\.0-9]{0,})/).exec(navigator.userAgent) || (/Trident\\/.*rv:([0-9]{1,}[\\.0-9]{0,})/).exec(navigator.userAgent)) && parseFloat( RegExp.$1 ) < 11), //Ideally we'd avoid user agent sniffing, but there doesn't seem to be a way to feature-detect and sense a border-related bug that only affects IE10 and IE9.\n\t\t\t_tempTransforms = [],\n\t\t\t_tempElements = [],\n\t\t\t_getSVGOffsets = function(e) { //SVG elements don't always report offsetTop/offsetLeft/offsetParent at all (I'm looking at you, Firefox 29 and Android), so we have to do some work to manufacture those values. You can pass any SVG element and it'll spit back an object with offsetTop, offsetLeft, offsetParent, scaleX, and scaleY properties. We need the scaleX and scaleY to handle the way SVG can resize itself based on the container.\n\t\t\t\tif (!e.getBoundingClientRect || !e.parentNode || !_transformProp) {\n\t\t\t\t\treturn {offsetTop:0, offsetLeft:0, scaleX:1, scaleY:1, offsetParent:_docElement};\n\t\t\t\t}\n\t\t\t\tif (Draggable.cacheSVGData !== false && e._gsCache && e._gsCache.lastUpdate === TweenLite.ticker.frame) { //performance optimization. Assume that if the offsets are requested again on the same tick, we can just feed back the values we already calculated (no need to keep recalculating until another tick elapses).\n\t\t\t\t\treturn e._gsCache;\n\t\t\t\t}\n\t\t\t\tvar curElement = e,\n\t\t\t\t\tcache = _cache(e),\n\t\t\t\t\teRect, parentRect, offsetParent, cs, m, i, point1, point2, borderWidth, borderHeight, width, height;\n\t\t\t\tcache.lastUpdate = TweenLite.ticker.frame;\n\t\t\t\tif (e.getBBox && !cache.isSVGRoot) { //if it's a nested/child SVG element, we must find the parent SVG canvas and measure the offset from there.\n\t\t\t\t\tcurElement = e.parentNode;\n\t\t\t\t\teRect = e.getBBox();\n\t\t\t\t\twhile (curElement && (curElement.nodeName + \"\").toLowerCase() !== \"svg\") {\n\t\t\t\t\t\tcurElement = curElement.parentNode;\n\t\t\t\t\t}\n\t\t\t\t\tcs = _getSVGOffsets(curElement);\n\t\t\t\t\tcache.offsetTop = eRect.y * cs.scaleY;\n\t\t\t\t\tcache.offsetLeft = eRect.x * cs.scaleX;\n\t\t\t\t\tcache.scaleX = cs.scaleX;\n\t\t\t\t\tcache.scaleY = cs.scaleY;\n\t\t\t\t\tcache.offsetParent = curElement || _docElement;\n\t\t\t\t\treturn cache;\n\t\t\t\t}\n\t\t\t\t//only root SVG elements continue here...\n\t\t\t\toffsetParent = cache.offsetParent;\n\t\t\t\tif (offsetParent === _doc.body) {\n\t\t\t\t\toffsetParent = _docElement; //avoids problems with margins/padding on the body\n\t\t\t\t}\n\t\t\t\t//walk up the ancestors and record any non-identity transforms (and reset them to \"none\") until we reach the offsetParent. We must do this so that the getBoundingClientRect() is accurate for measuring the offsetTop/offsetLeft. We'll revert the values later...\n\t\t\t\t_tempElements.length = _tempTransforms.length = 0;\n\t\t\t\twhile (curElement) {\n\t\t\t\t\tm = _getStyle(curElement, _transformProp, true);\n\t\t\t\t\tif (m !== \"matrix(1, 0, 0, 1, 0, 0)\" && m !== \"none\" && m !== \"translate3d(0px, 0px, 0px)\") {\n\t\t\t\t\t\t_tempElements.push(curElement);\n\t\t\t\t\t\t_tempTransforms.push(curElement.style[_transformProp]);\n\t\t\t\t\t\tcurElement.style[_transformProp] = \"none\";\n\t\t\t\t\t}\n\t\t\t\t\tif (curElement === offsetParent) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcurElement = curElement.parentNode;\n\t\t\t\t}\n\t\t\t\tparentRect = offsetParent.getBoundingClientRect();\n\t\t\t\tm = e.getScreenCTM();\n\t\t\t\tpoint2 = e.createSVGPoint();\n\t\t\t\tpoint1 = point2.matrixTransform(m);\n\t\t\t\tpoint2.x = point2.y = 10;\n\t\t\t\tpoint2 = point2.matrixTransform(m);\n\t\t\t\tcache.scaleX = (point2.x - point1.x) / 10;\n\t\t\t\tcache.scaleY = (point2.y - point1.y) / 10;\n\t\t\t\tif (_svgBorderFactor === undefined) {\n\t\t\t\t\t_setEnvironmentVariables();\n\t\t\t\t}\n\t\t\t\tif (cache.borderBox && !_svgBorderScales && e.getAttribute(\"width\")) { //some browsers (like Safari) don't properly scale the matrix to accommodate the border when box-sizing is border-box, so we must calculate it here...\n\t\t\t\t\tcs = _getComputedStyle(e) || {};\n\t\t\t\t\tborderWidth = (parseFloat(cs.borderLeftWidth) + parseFloat(cs.borderRightWidth)) || 0;\n\t\t\t\t\tborderHeight = (parseFloat(cs.borderTopWidth) + parseFloat(cs.borderBottomWidth)) || 0;\n\t\t\t\t\twidth = parseFloat(cs.width) || 0;\n\t\t\t\t\theight = parseFloat(cs.height) || 0;\n\t\t\t\t\tcache.scaleX *= (width - borderWidth) / width;\n\t\t\t\t\tcache.scaleY *= (height - borderHeight) / height;\n\t\t\t\t}\n\t\t\t\tif (_svgScrollOffset) { //some browsers (like Chrome for Android) have bugs in the way getScreenCTM() is reported (it doesn't factor in scroll position), so we must revert to a more expensive technique for calculating offsetTop/Left.\n\t\t\t\t\teRect = e.getBoundingClientRect();\n\t\t\t\t\tcache.offsetLeft = eRect.left - parentRect.left;\n\t\t\t\t\tcache.offsetTop = eRect.top - parentRect.top;\n\t\t\t\t} else {\n\t\t\t\t\tcache.offsetLeft = point1.x - parentRect.left;\n\t\t\t\t\tcache.offsetTop = point1.y - parentRect.top;\n\t\t\t\t}\n\t\t\t\tcache.offsetParent = offsetParent;\n\t\t\t\ti = _tempElements.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t_tempElements[i].style[_transformProp] = _tempTransforms[i];\n\t\t\t\t}\n\t\t\t\treturn cache;\n\t\t\t},\n\t\t\t_getOffsetTransformOrigin = function(e, decoratee) { //returns the x/y position of the transformOrigin of the element, in its own local coordinate system (pixels), offset from the top left corner.\n\t\t\t\tdecoratee = decoratee || {};\n\t\t\t\tif (!e || e === _docElement || !e.parentNode || e === window) {\n\t\t\t\t\treturn {x:0, y:0};\n\t\t\t\t}\n\t\t\t\tvar cs = _getComputedStyle(e),\n\t\t\t\t\tv = (_transformOriginProp && cs) ? cs.getPropertyValue(_transformOriginProp) : \"50% 50%\",\n\t\t\t\t\ta = v.split(\" \"),\n\t\t\t\t\tx = (v.indexOf(\"left\") !== -1) ? \"0%\" : (v.indexOf(\"right\") !== -1) ? \"100%\" : a[0],\n\t\t\t\t\ty = (v.indexOf(\"top\") !== -1) ? \"0%\" : (v.indexOf(\"bottom\") !== -1) ? \"100%\" : a[1];\n\t\t\t\tif (y === \"center\" || y == null) {\n\t\t\t\t\ty = \"50%\";\n\t\t\t\t}\n\t\t\t\tif (x === \"center\" || isNaN(parseFloat(x))) { //remember, the user could flip-flop the values and say \"bottom center\" or \"center bottom\", etc. \"center\" is ambiguous because it could be used to describe horizontal or vertical, hence the isNaN(). If there's an \"=\" sign in the value, it's relative.\n\t\t\t\t\tx = \"50%\";\n\t\t\t\t}\n\t\t\t\tif (e.getBBox && _isSVG(e)) { //SVG elements must be handled in a special way because their origins are calculated from the top left.\n\t\t\t\t\tif (!e._gsTransform) {\n\t\t\t\t\t\tTweenLite.set(e, {x:\"+=0\", overwrite:false}); //forces creation of the _gsTransform where we store all the transform components including xOrigin and yOrigin for SVG elements, as of GSAP 1.15.0 which also takes care of calculating the origin from the upper left corner of the SVG canvas.\n\t\t\t\t\t\tif (e._gsTransform.xOrigin === undefined) {\n\t\t\t\t\t\t\tconsole.log(\"Draggable requires at least GSAP 1.17.0\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tv = e.getBBox();\n\t\t\t\t\tdecoratee.x = (e._gsTransform.xOrigin - v.x);\n\t\t\t\t\tdecoratee.y = (e._gsTransform.yOrigin - v.y);\n\t\t\t\t} else {\n\t\t\t\t\tif (e.getBBox && !e.offsetWidth && (x + y).indexOf(\"%\") !== -1) { //Firefox doesn't report offsetWidth/height on <svg> elements.\n\t\t\t\t\t\te = e.getBBox();\n\t\t\t\t\t\te = {offsetWidth: e.width, offsetHeight: e.height};\n\t\t\t\t\t}\n\t\t\t\t\tdecoratee.x = ((x.indexOf(\"%\") !== -1) ? e.offsetWidth * parseFloat(x) / 100 : parseFloat(x));\n\t\t\t\t\tdecoratee.y = ((y.indexOf(\"%\") !== -1) ? e.offsetHeight * parseFloat(y) / 100 : parseFloat(y));\n\n\t\t\t\t}\n\t\t\t\treturn decoratee;\n\t\t\t},\n\t\t\t_cache = function(e) { //computes some important values and stores them in a _gsCache object attached to the element itself so that we can optimize performance\n\t\t\t\tif (Draggable.cacheSVGData !== false && e._gsCache && e._gsCache.lastUpdate === TweenLite.ticker.frame) { //performance optimization. Assume that if the offsets are requested again on the same tick, we can just feed back the values we already calculated (no need to keep recalculating until another tick elapses).\n\t\t\t\t\treturn e._gsCache;\n\t\t\t\t}\n\t\t\t\tvar cache = e._gsCache = e._gsCache || {},\n\t\t\t\t\tcs = _getComputedStyle(e),\n\t\t\t\t\tisSVG = (e.getBBox && _isSVG(e)),\n\t\t\t\t\tisSVGRoot = ((e.nodeName + \"\").toLowerCase() === \"svg\"),\n\t\t\t\t\tcurSVG;\n\t\t\t\tcache.isSVG = isSVG;\n\t\t\t\tcache.isSVGRoot = isSVGRoot;\n\t\t\t\tcache.borderBox = (cs.boxSizing === \"border-box\");\n\t\t\t\tcache.computedStyle = cs;\n\t\t\t\tif (isSVGRoot) {\n\t\t\t\t\tif (!(cache.offsetParent = e.offsetParent)) { //some browsers don't report offsetParent for SVG elements.\n\t\t\t\t\t\tcurSVG = e.parentNode || _docElement;\n\t\t\t\t\t\tcurSVG.insertBefore(_tempDiv, e);\n\t\t\t\t\t\tcache.offsetParent = _tempDiv.offsetParent || _docElement; //in some cases, Firefox still reports offsetParent as null.\n\t\t\t\t\t\tcurSVG.removeChild(_tempDiv);\n\t\t\t\t\t}\n\t\t\t\t} else if (isSVG) {\n\t\t\t\t\tcurSVG = e.parentNode;\n\t\t\t\t\twhile (curSVG && (curSVG.nodeName + \"\").toLowerCase() !== \"svg\") { //offsetParent is always the SVG canvas for SVG elements.\n\t\t\t\t\t\tcurSVG = curSVG.parentNode;\n\t\t\t\t\t}\n\t\t\t\t\tcache.offsetParent = curSVG;\n\t\t\t\t}\n\t\t\t\treturn cache;\n\t\t\t},\n\t\t\t_getOffset2DMatrix = function(e, offsetOrigin, parentOffsetOrigin, zeroOrigin) {\n\t\t\t\tif (e === window || !e || !e.style || !e.parentNode) {\n\t\t\t\t\treturn [1,0,0,1,0,0];\n\t\t\t\t}\n\t\t\t\tvar cache = e._gsCache || _cache(e),\n\t\t\t\t\tparent = e.parentNode,\n\t\t\t\t\tparentCache = parent._gsCache || _cache(parent),\n\t\t\t\t\tcs = cache.computedStyle,\n\t\t\t\t\tparentOffsetParent = cache.isSVG ? parentCache.offsetParent : parent.offsetParent,\n\t\t\t\t\tm, isRoot, offsets, rect, t, sx, sy, offsetX, offsetY, parentRect, borderTop, borderLeft, borderTranslateX, borderTranslateY;\n\t\t\t\tm = (cache.isSVG && (e.style[_transformProp] + \"\").indexOf(\"matrix\") !== -1) ? e.style[_transformProp] : cs ? cs.getPropertyValue(_transformPropCSS) : e.currentStyle ? e.currentStyle[_transformProp] : \"1,0,0,1,0,0\"; //some browsers (like Chrome 40) don't correctly report transforms that are applied inline on an SVG element (they don't get included in the computed style), so we double-check here and accept matrix values\n\n\t\t\t\tif (e.getBBox && (e.getAttribute(\"transform\") + \"\").indexOf(\"matrix\") !== -1) { //SVG can store transform data in its \"transform\" attribute instead of the CSS, so look for that here (only accept matrix()).\n\t\t\t\t\tm = e.getAttribute(\"transform\");\n\t\t\t\t}\n\t\t\t\tm = (m + \"\").match(/(?:\\-|\\b)[\\d\\-\\.e]+\\b/g) || [1,0,0,1,0,0];\n\t\t\t\tif (m.length > 6) {\n\t\t\t\t\tm = [m[0], m[1], m[4], m[5], m[12], m[13]];\n\t\t\t\t}\n\t\t\t\tif (zeroOrigin) {\n\t\t\t\t\tm[4] = m[5] = 0;\n\t\t\t\t} else if (cache.isSVG && (t = e._gsTransform) && (t.xOrigin || t.yOrigin)) {\n\t\t\t\t\t//SVGs handle origin very differently. Factor in GSAP's handling of origin values here:\n\t\t\t\t\tm[0] = parseFloat(m[0]);\n\t\t\t\t\tm[1] = parseFloat(m[1]);\n\t\t\t\t\tm[2] = parseFloat(m[2]);\n\t\t\t\t\tm[3] = parseFloat(m[3]);\n\t\t\t\t\tm[4] = parseFloat(m[4]) - (t.xOrigin - (t.xOrigin * m[0] + t.yOrigin * m[2]));\n\t\t\t\t\tm[5] = parseFloat(m[5]) - (t.yOrigin - (t.xOrigin * m[1] + t.yOrigin * m[3]));\n\t\t\t\t}\n\t\t\t\tif (offsetOrigin) {\n\t\t\t\t\tif (_svgBorderFactor === undefined) {\n\t\t\t\t\t\t_setEnvironmentVariables();\n\t\t\t\t\t}\n\t\t\t\t\toffsets = (cache.isSVG || cache.isSVGRoot) ? _getSVGOffsets(e) : e;\n\t\t\t\t\tif (cache.isSVG) { //don't just rely on \"instanceof _SVGElement\" because if the SVG is embedded via an object tag, it won't work (SVGElement is mapped to a different object))\n\t\t\t\t\t\trect = e.getBBox();\n\t\t\t\t\t\tparentRect = (parentCache.isSVGRoot) ? {x:0, y:0} : parent.getBBox();\n\t\t\t\t\t\toffsets = {offsetLeft:rect.x - parentRect.x, offsetTop:rect.y - parentRect.y, offsetParent:cache.offsetParent};\n\t\t\t\t\t} else if (cache.isSVGRoot) {\n\t\t\t\t\t\tborderTop = parseInt(cs.borderTopWidth, 10) || 0;\n\t\t\t\t\t\tborderLeft = parseInt(cs.borderLeftWidth, 10) || 0;\n\t\t\t\t\t\tborderTranslateX = ((m[0] - _svgBorderFactor) * borderLeft + m[2] * borderTop);\n\t\t\t\t\t\tborderTranslateY = (m[1] * borderLeft + (m[3] - _svgBorderFactor) * borderTop);\n\n\t\t\t\t\t\tsx = offsetOrigin.x;\n\t\t\t\t\t\tsy = offsetOrigin.y;\n\t\t\t\t\t\toffsetX = (sx - (sx * m[0] + sy * m[2])); //accommodate the SVG root's transforms when the origin isn't in the top left.\n\t\t\t\t\t\toffsetY = (sy - (sx * m[1] + sy * m[3]));\n\n\t\t\t\t\t\tm[4] = parseFloat(m[4]) + offsetX;\n\t\t\t\t\t\tm[5] = parseFloat(m[5]) + offsetY;\n\t\t\t\t\t\toffsetOrigin.x -= offsetX;\n\t\t\t\t\t\toffsetOrigin.y -= offsetY;\n\t\t\t\t\t\tsx = offsets.scaleX;\n\t\t\t\t\t\tsy = offsets.scaleY;\n\t\t\t\t\t\toffsetOrigin.x *= sx;\n\t\t\t\t\t\toffsetOrigin.y *= sy;\n\t\t\t\t\t\tm[0] *= sx;\n\t\t\t\t\t\tm[1] *= sy;\n\t\t\t\t\t\tm[2] *= sx;\n\t\t\t\t\t\tm[3] *= sy;\n\n\t\t\t\t\t\tif (!_isIE10orBelow) {\n\t\t\t\t\t\t\toffsetOrigin.x += borderTranslateX;\n\t\t\t\t\t\t\toffsetOrigin.y += borderTranslateY;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (!_hasBorderBug && e.offsetParent) {\n\t\t\t\t\t\toffsetOrigin.x += parseInt(_getStyle(e.offsetParent, \"borderLeftWidth\"), 10) || 0;\n\t\t\t\t\t\toffsetOrigin.y += parseInt(_getStyle(e.offsetParent, \"borderTopWidth\"), 10) || 0;\n\t\t\t\t\t}\n\t\t\t\t\tisRoot = (parent === _docElement || parent === _doc.body);\n\t\t\t\t\tm[4] = Number(m[4]) + offsetOrigin.x + (offsets.offsetLeft || 0) - parentOffsetOrigin.x - (isRoot ? 0 : parent.scrollLeft || 0);\n\t\t\t\t\tm[5] = Number(m[5]) + offsetOrigin.y + (offsets.offsetTop || 0) - parentOffsetOrigin.y - (isRoot ? 0 : parent.scrollTop || 0);\n\t\t\t\t\tif (parent && _getStyle(e, \"position\", cs) === \"fixed\") { //fixed position elements should factor in the scroll position of the document.\n\t\t\t\t\t\tm[4] += _getDocScrollLeft();\n\t\t\t\t\t\tm[5] += _getDocScrollTop();\n\t\t\t\t\t}\n\t\t\t\t\tif (parent && parent !== _docElement && parentOffsetParent === offsets.offsetParent) {\n\t\t\t\t\t\tm[4] -= parent.offsetLeft || 0;\n\t\t\t\t\t\tm[5] -= parent.offsetTop || 0;\n\t\t\t\t\t\tif (!_hasBorderBug && parent.offsetParent && !cache.isSVG && !cache.isSVGRoot) {\n\t\t\t\t\t\t\tm[4] -= parseInt(_getStyle(parent.offsetParent, \"borderLeftWidth\"), 10) || 0;\n\t\t\t\t\t\t\tm[5] -= parseInt(_getStyle(parent.offsetParent, \"borderTopWidth\"), 10) || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn m;\n\t\t\t},\n\t\t\t_getConcatenatedMatrix = function(e, invert) {\n\t\t\t\tif (!e || e === window || !e.parentNode) {\n\t\t\t\t\treturn [1,0,0,1,0,0];\n\t\t\t\t}\n\t\t\t\t//note: we keep reusing _point1 and _point2 in order to minimize memory usage and garbage collection chores.\n\t\t\t\tvar originOffset = _getOffsetTransformOrigin(e, _point1),\n\t\t\t\t\tparentOriginOffset = _getOffsetTransformOrigin(e.parentNode, _point2),\n\t\t\t\t\tm = _getOffset2DMatrix(e, originOffset, parentOriginOffset),\n\t\t\t\t\ta, b, c, d, tx, ty, m2, determinant;\n\t\t\t\twhile ((e = e.parentNode) && e.parentNode && e !== _docElement) {\n\t\t\t\t\toriginOffset = parentOriginOffset;\n\t\t\t\t\tparentOriginOffset = _getOffsetTransformOrigin(e.parentNode, (originOffset === _point1) ? _point2 : _point1);\n\t\t\t\t\tm2 = _getOffset2DMatrix(e, originOffset, parentOriginOffset);\n\t\t\t\t\ta = m[0];\n\t\t\t\t\tb = m[1];\n\t\t\t\t\tc = m[2];\n\t\t\t\t\td = m[3];\n\t\t\t\t\ttx = m[4];\n\t\t\t\t\tty = m[5];\n\t\t\t\t\tm[0] = a * m2[0] + b * m2[2];\n\t\t\t\t\tm[1] = a * m2[1] + b * m2[3];\n\t\t\t\t\tm[2] = c * m2[0] + d * m2[2];\n\t\t\t\t\tm[3] = c * m2[1] + d * m2[3];\n\t\t\t\t\tm[4] = tx * m2[0] + ty * m2[2] + m2[4];\n\t\t\t\t\tm[5] = tx * m2[1] + ty * m2[3] + m2[5];\n\t\t\t\t}\n\t\t\t\tif (invert) {\n\t\t\t\t\ta = m[0];\n\t\t\t\t\tb = m[1];\n\t\t\t\t\tc = m[2];\n\t\t\t\t\td = m[3];\n\t\t\t\t\ttx = m[4];\n\t\t\t\t\tty = m[5];\n\t\t\t\t\tdeterminant = (a * d - b * c);\n\t\t\t\t\tm[0] = d / determinant;\n\t\t\t\t\tm[1] = -b / determinant;\n\t\t\t\t\tm[2] = -c / determinant;\n\t\t\t\t\tm[3] = a / determinant;\n\t\t\t\t\tm[4] = (c * ty - d * tx) / determinant;\n\t\t\t\t\tm[5] = -(a * ty - b * tx) / determinant;\n\t\t\t\t}\n\t\t\t\treturn m;\n\t\t\t},\n\t\t\t_localToGlobal = function(e, p, fromTopLeft, decoratee, zeroOrigin) {\n\t\t\t\te = _unwrapElement(e);\n\t\t\t\tvar m = _getConcatenatedMatrix(e, false, zeroOrigin),\n\t\t\t\t\tx = p.x,\n\t\t\t\t\ty = p.y;\n\t\t\t\tif (fromTopLeft) {\n\t\t\t\t\t_getOffsetTransformOrigin(e, p);\n\t\t\t\t\tx -= p.x;\n\t\t\t\t\ty -= p.y;\n\t\t\t\t}\n\t\t\t\tdecoratee = (decoratee === true) ? p : decoratee || {};\n\t\t\t\tdecoratee.x = x * m[0] + y * m[2] + m[4];\n\t\t\t\tdecoratee.y = x * m[1] + y * m[3] + m[5];\n\t\t\t\treturn decoratee;\n\t\t\t},\n\t\t\t_localizePoint = function(p, localToGlobal, globalToLocal) {\n\t\t\t\tvar x = p.x * localToGlobal[0] + p.y * localToGlobal[2] + localToGlobal[4],\n\t\t\t\t\ty = p.x * localToGlobal[1] + p.y * localToGlobal[3] + localToGlobal[5];\n\t\t\t\tp.x = x * globalToLocal[0] + y * globalToLocal[2] + globalToLocal[4];\n\t\t\t\tp.y = x * globalToLocal[1] + y * globalToLocal[3] + globalToLocal[5];\n\t\t\t\treturn p;\n\t\t\t},\n\n\t\t\t_getElementBounds = function(e, context, fromTopLeft) {\n\t\t\t\tif (!(e = _unwrapElement(e))) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tcontext = _unwrapElement(context);\n\t\t\t\tvar isSVG = (e.getBBox && _isSVG(e)),\n\t\t\t\t\torigin, left, right, top, bottom, mLocalToGlobal, mGlobalToLocal, p1, p2, p3, p4, bbox, width, height, cache, borderLeft, borderTop, viewBox, viewBoxX, viewBoxY, computedDimensions, cs;\n\t\t\t\tif (e === window) {\n\t\t\t\t\ttop = _getDocScrollTop();\n\t\t\t\t\tleft = _getDocScrollLeft();\n\t\t\t\t\tright = left + (_docElement.clientWidth || e.innerWidth || _doc.body.clientWidth || 0);\n\t\t\t\t\tbottom = top + (((e.innerHeight || 0) - 20 < _docElement.clientHeight) ? _docElement.clientHeight : e.innerHeight || _doc.body.clientHeight || 0); //some browsers (like Firefox) ignore absolutely positioned elements, and collapse the height of the documentElement, so it could be 8px, for example, if you have just an absolutely positioned div. In that case, we use the innerHeight to resolve this.\n\t\t\t\t} else if (context === undefined || context === window) {\n\t\t\t\t\treturn e.getBoundingClientRect();\n\t\t\t\t} else {\n\t\t\t\t\torigin = _getOffsetTransformOrigin(e);\n\t\t\t\t\tleft = -origin.x;\n\t\t\t\t\ttop = -origin.y;\n\t\t\t\t\tif (isSVG) {\n\t\t\t\t\t\tbbox = e.getBBox();\n\t\t\t\t\t\twidth = bbox.width;\n\t\t\t\t\t\theight = bbox.height;\n\t\t\t\t\t} else if (e.offsetWidth) {\n\t\t\t\t\t\twidth = e.offsetWidth;\n\t\t\t\t\t\theight = e.offsetHeight;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcomputedDimensions = _getComputedStyle(e);\n\t\t\t\t\t\twidth = parseFloat(computedDimensions.width);\n\t\t\t\t\t\theight = parseFloat(computedDimensions.height);\n\t\t\t\t\t}\n\t\t\t\t\tright = left + width;\n\t\t\t\t\tbottom = top + height;\n\t\t\t\t\tif (e.nodeName.toLowerCase() === \"svg\" && !_isOldIE) { //root SVG elements are a special beast because they have 2 types of scaling - transforms on themselves as well as the stretching of the SVG canvas itself based on the outer size and the viewBox. If, for example, the SVG's viewbox is \"0 0 100 100\" but the CSS is set to width:200px; height:200px, that'd make it appear at 2x scale even though the element itself has no CSS transforms but the offsetWidth/offsetHeight are based on that css, not the viewBox so we need to adjust them accordingly.\n\t\t\t\t\t\tcache = _getSVGOffsets(e);\n\t\t\t\t\t\tcs = cache.computedStyle || {};\n\t\t\t\t\t\tviewBox = (e.getAttribute(\"viewBox\") || \"0 0\").split(\" \");\n\t\t\t\t\t\tviewBoxX = parseFloat(viewBox[0]);\n\t\t\t\t\t\tviewBoxY = parseFloat(viewBox[1]);\n\t\t\t\t\t\tborderLeft = parseFloat(cs.borderLeftWidth) || 0;\n\t\t\t\t\t\tborderTop = parseFloat(cs.borderTopWidth) || 0;\n\t\t\t\t\t\tright -= width - ((width - borderLeft) / cache.scaleX) - viewBoxX;\n\t\t\t\t\t\tbottom -= height - ((height - borderTop) / cache.scaleY) - viewBoxY;\n\t\t\t\t\t\tleft -= borderLeft / cache.scaleX - viewBoxX;\n\t\t\t\t\t\ttop -= borderTop / cache.scaleY - viewBoxY;\n\t\t\t\t\t\tif (computedDimensions) { //when we had to use computed styles, factor in the border now.\n\t\t\t\t\t\t\tright += (parseFloat(cs.borderRightWidth) + borderLeft) / cache.scaleX;\n\t\t\t\t\t\t\tbottom += (borderTop + parseFloat(cs.borderBottomWidth)) / cache.scaleY;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (e === context) {\n\t\t\t\t\treturn {left:left, top:top, width: right - left, height: bottom - top};\n\t\t\t\t}\n\t\t\t\tmLocalToGlobal = _getConcatenatedMatrix(e);\n\t\t\t\tmGlobalToLocal = _getConcatenatedMatrix(context, true);\n\t\t\t\tp1 = _localizePoint({x:left, y:top}, mLocalToGlobal, mGlobalToLocal);\n\t\t\t\tp2 = _localizePoint({x:right, y:top}, mLocalToGlobal, mGlobalToLocal);\n\t\t\t\tp3 = _localizePoint({x:right, y:bottom}, mLocalToGlobal, mGlobalToLocal);\n\t\t\t\tp4 = _localizePoint({x:left, y:bottom}, mLocalToGlobal, mGlobalToLocal);\n\t\t\t\tleft = Math.min(p1.x, p2.x, p3.x, p4.x);\n\t\t\t\ttop = Math.min(p1.y, p2.y, p3.y, p4.y);\n\t\t\t\t_temp1.x = _temp1.y = 0;\n\t\t\t\tif (fromTopLeft) {\n\t\t\t\t\t_getOffsetTransformOrigin(context, _temp1);\n\t\t\t\t}\n\t\t\t\treturn {left:left + _temp1.x, top:top + _temp1.y, width:Math.max(p1.x, p2.x, p3.x, p4.x) - left, height:Math.max(p1.y, p2.y, p3.y, p4.y) - top};\n\t\t\t},\n\t\t\t// end matrix and point conversion methods\n\n\n\n\t\t\t_isArrayLike = function(e) {\n\t\t\t\treturn (e && e.length && e[0] && ((e[0].nodeType && e[0].style && !e.nodeType) || (e[0].length && e[0][0]))) ? true : false; //could be an array of jQuery objects too, so accommodate that.\n\t\t\t},\n\n\t\t\t_flattenArray = function(a) {\n\t\t\t\tvar result = [],\n\t\t\t\t\tl = a.length,\n\t\t\t\t\ti, e, j;\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\te = a[i];\n\t\t\t\t\tif (_isArrayLike(e)) {\n\t\t\t\t\t\tj = e.length;\n\t\t\t\t\t\tfor (j = 0; j < e.length; j++) {\n\t\t\t\t\t\t\tresult.push(e[j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (e && e.length !== 0) {\n\t\t\t\t\t\tresult.push(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t},\n\n\t\t\t_isTouchDevice = ((\"ontouchstart\" in _docElement) && (\"orientation\" in window)),\n\t\t\t_touchEventLookup = (function(types) { //we create an object that makes it easy to translate touch event types into their \"pointer\" counterparts if we're in a browser that uses those instead. Like IE10 uses \"MSPointerDown\" instead of \"touchstart\", for example.\n\t\t\t\tvar standard = types.split(\",\"),\n\t\t\t\t\tconverted = ((_tempDiv.onpointerdown !== undefined) ? \"pointerdown,pointermove,pointerup,pointercancel\" : (_tempDiv.onmspointerdown !== undefined) ? \"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel\" : types).split(\",\"),\n\t\t\t\t\tobj = {},\n\t\t\t\t\ti = 8;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tobj[standard[i]] = converted[i];\n\t\t\t\t\tobj[converted[i]] = standard[i];\n\t\t\t\t}\n\t\t\t\treturn obj;\n\t\t\t}(\"touchstart,touchmove,touchend,touchcancel\")),\n\n\t\t\t_addListener = function(element, type, func, capture) {\n\t\t\t\tif (element.addEventListener) {\n\t\t\t\t\telement.addEventListener(_touchEventLookup[type] || type, func, capture);\n\t\t\t\t} else if (element.attachEvent) {\n\t\t\t\t\telement.attachEvent(\"on\" + type, func);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t_removeListener = function(element, type, func) {\n\t\t\t\tif (element.removeEventListener) {\n\t\t\t\t\telement.removeEventListener(_touchEventLookup[type] || type, func);\n\t\t\t\t} else if (element.detachEvent) {\n\t\t\t\t\telement.detachEvent(\"on\" + type, func);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t_hasTouchID = function(list, ID) {\n\t\t\t\tvar i = list.length;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\tif (list[i].identifier === ID) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\t_onMultiTouchDocumentEnd = function(e) {\n\t\t\t\t_isMultiTouching = (e.touches && _dragCount < e.touches.length);\n\t\t\t\t_removeListener(e.target, \"touchend\", _onMultiTouchDocumentEnd);\n\t\t\t},\n\n\t\t\t_onMultiTouchDocument = function(e) {\n\t\t\t\t_isMultiTouching = (e.touches && _dragCount < e.touches.length);\n\t\t\t\t_addListener(e.target, \"touchend\", _onMultiTouchDocumentEnd);\n\t\t\t},\n\n\t\t\t_parseThrowProps = function(draggable, snap, max, min, factor, forceZeroVelocity) {\n\t\t\t\tvar vars = {},\n\t\t\t\t\ta, i, l;\n\t\t\t\tif (snap) {\n\t\t\t\t\tif (factor !== 1 && snap instanceof Array) { //some data must be altered to make sense, like if the user passes in an array of rotational values in degrees, we must convert it to radians. Or for scrollLeft and scrollTop, we invert the values.\n\t\t\t\t\t\tvars.end = a = [];\n\t\t\t\t\t\tl = snap.length;\n\t\t\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\t\t\ta[i] = snap[i] * factor;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmax += 1.1; //allow 1.1 pixels of wiggle room when snapping in order to work around some browser inconsistencies in the way bounds are reported which can make them roughly a pixel off. For example, if \"snap:[-$('#menu').width(), 0]\" was defined and #menu had a wrapper that was used as the bounds, some browsers would be one pixel off, making the minimum -752 for example when snap was [-753,0], thus instead of snapping to -753, it would snap to 0 since -753 was below the minimum.\n\t\t\t\t\t\tmin -= 1.1;\n\t\t\t\t\t} else if (typeof(snap) === \"function\") {\n\t\t\t\t\t\tvars.end = function(value) {\n\t\t\t\t\t\t\treturn snap.call(draggable, value) * factor; //we need to ensure that we can scope the function call to the Draggable instance itself so that users can access important values like maxX, minX, maxY, minY, x, and y from within that function.\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvars.end = snap;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (max || max === 0) {\n\t\t\t\t\tvars.max = max;\n\t\t\t\t}\n\t\t\t\tif (min || min === 0) {\n\t\t\t\t\tvars.min = min;\n\t\t\t\t}\n\t\t\t\tif (forceZeroVelocity) {\n\t\t\t\t\tvars.velocity = 0;\n\t\t\t\t}\n\t\t\t\treturn vars;\n\t\t\t},\n\n\t\t\t_isClickable = function(e) { //sometimes it's convenient to mark an element as clickable by adding a data-clickable=\"true\" attribute (in which case we won't preventDefault() the mouse/touch event). This method checks if the element is an <a>, <input>, or <button> or has an onclick or has the data-clickable or contentEditable attribute set to true (or any of its parent elements).\n\t\t\t\tvar data;\n\t\t\t\treturn (!e || !e.getAttribute || e.nodeName === \"BODY\") ? false : ((data = e.getAttribute(\"data-clickable\")) === \"true\" || (data !== \"false\" && (e.onclick || _clickableTagExp.test(e.nodeName + \"\") || e.getAttribute(\"contentEditable\") === \"true\"))) ? true : _isClickable(e.parentNode);\n\t\t\t},\n\n\t\t\t_setSelectable = function(elements, selectable) {\n\t\t\t\tvar i = elements.length,\n\t\t\t\t\te;\n\t\t\t\twhile (--i > -1) {\n\t\t\t\t\te = elements[i];\n\t\t\t\t\te.ondragstart = e.onselectstart = selectable ? null : _emptyFunc;\n\t\t\t\t\t_setStyle(e, \"userSelect\", (selectable ? \"text\" : \"none\"));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t_addPaddingBR,\n\t\t\t_addPaddingLeft = (function() { //this function is in charge of analyzing browser behavior related to padding. It sets the _addPaddingBR to true if the browser doesn't normally factor in the bottom or right padding on the element inside the scrolling area, and it sets _addPaddingLeft to true if it's a browser that requires the extra offset (offsetLeft) to be added to the paddingRight (like Opera).\n\t\t\t\tvar div = _doc.createElement(\"div\"),\n\t\t\t\t\tchild = _doc.createElement(\"div\"),\n\t\t\t\t\tchildStyle = child.style,\n\t\t\t\t\tparent = _doc.body || _tempDiv,\n\t\t\t\t\tval;\n\t\t\t\tchildStyle.display = \"inline-block\";\n\t\t\t\tchildStyle.position = \"relative\";\n\t\t\t\tdiv.style.cssText = child.innerHTML = \"width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden\";\n\t\t\t\tdiv.appendChild(child);\n\t\t\t\tparent.appendChild(div);\n\t\t\t\t_addPaddingBR = (child.offsetHeight + 18 > div.scrollHeight); //div.scrollHeight should be child.offsetHeight + 20 because of the 10px of padding on each side, but some browsers ignore one side. We allow a 2px margin of error.\n\t\t\t\tchildStyle.width = \"100%\";\n\t\t\t\tif (!_transformProp) {\n\t\t\t\t\tchildStyle.paddingRight = \"500px\";\n\t\t\t\t\tval = div.scrollLeft = div.scrollWidth - div.clientWidth;\n\t\t\t\t\tchildStyle.left = \"-90px\";\n\t\t\t\t\tval = (val !== div.scrollLeft);\n\t\t\t\t}\n\t\t\t\tparent.removeChild(div);\n\t\t\t\treturn val;\n\t\t\t}()),\n\n\n\n\n\t\t\t//The ScrollProxy class wraps an element's contents into another div (we call it \"content\") that we either add padding when necessary or apply a translate3d() transform in order to overscroll (scroll past the boundaries). This allows us to simply set the scrollTop/scrollLeft (or top/left for easier reverse-axis orientation, which is what we do in Draggable) and it'll do all the work for us. For example, if we tried setting scrollTop to -100 on a normal DOM element, it wouldn't work - it'd look the same as setting it to 0, but if we set scrollTop of a ScrollProxy to -100, it'll give the correct appearance by either setting paddingTop of the wrapper to 100 or applying a 100-pixel translateY.\n\t\t\tScrollProxy = function(element, vars) {\n\t\t\t\telement = _unwrapElement(element);\n\t\t\t\tvars = vars || {};\n\t\t\t\tvar content = _doc.createElement(\"div\"),\n\t\t\t\t\tstyle = content.style,\n\t\t\t\t\tnode = element.firstChild,\n\t\t\t\t\toffsetTop = 0,\n\t\t\t\t\toffsetLeft = 0,\n\t\t\t\t\tprevTop = element.scrollTop,\n\t\t\t\t\tprevLeft = element.scrollLeft,\n\t\t\t\t\tscrollWidth = element.scrollWidth,\n\t\t\t\t\tscrollHeight = element.scrollHeight,\n\t\t\t\t\textraPadRight = 0,\n\t\t\t\t\tmaxLeft = 0,\n\t\t\t\t\tmaxTop = 0,\n\t\t\t\t\telementWidth, elementHeight, contentHeight, nextNode, transformStart, transformEnd;\n\n\t\t\t\tif (_supports3D && vars.force3D !== false) {\n\t\t\t\t\ttransformStart = \"translate3d(\";\n\t\t\t\t\ttransformEnd = \"px,0px)\";\n\t\t\t\t} else if (_transformProp) {\n\t\t\t\t\ttransformStart = \"translate(\";\n\t\t\t\t\ttransformEnd = \"px)\";\n\t\t\t\t}\n\n\t\t\t\tthis.scrollTop = function(value, force) {\n\t\t\t\t\tif (!arguments.length) {\n\t\t\t\t\t\treturn -this.top();\n\t\t\t\t\t}\n\t\t\t\t\tthis.top(-value, force);\n\t\t\t\t};\n\n\t\t\t\tthis.scrollLeft = function(value, force) {\n\t\t\t\t\tif (!arguments.length) {\n\t\t\t\t\t\treturn -this.left();\n\t\t\t\t\t}\n\t\t\t\t\tthis.left(-value, force);\n\t\t\t\t};\n\n\t\t\t\tthis.left = function(value, force) {\n\t\t\t\t\tif (!arguments.length) {\n\t\t\t\t\t\treturn -(element.scrollLeft + offsetLeft);\n\t\t\t\t\t}\n\t\t\t\t\tvar dif = element.scrollLeft - prevLeft,\n\t\t\t\t\t\toldOffset = offsetLeft;\n\t\t\t\t\tif ((dif > 2 || dif < -2) && !force) { //if the user interacts with the scrollbar (or something else scrolls it, like the mouse wheel), we should kill any tweens of the ScrollProxy.\n\t\t\t\t\t\tprevLeft = element.scrollLeft;\n\t\t\t\t\t\tTweenLite.killTweensOf(this, true, {left:1, scrollLeft:1});\n\t\t\t\t\t\tthis.left(-prevLeft);\n\t\t\t\t\t\tif (vars.onKill) {\n\t\t\t\t\t\t\tvars.onKill();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvalue = -value; //invert because scrolling works in the opposite direction\n\t\t\t\t\tif (value < 0) {\n\t\t\t\t\t\toffsetLeft = (value - 0.5) | 0;\n\t\t\t\t\t\tvalue = 0;\n\t\t\t\t\t} else if (value > maxLeft) {\n\t\t\t\t\t\toffsetLeft = (value - maxLeft) | 0;\n\t\t\t\t\t\tvalue = maxLeft;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toffsetLeft = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (offsetLeft || oldOffset) {\n\t\t\t\t\t\tif (transformStart) {\n\t\t\t\t\t\t\tif (!this._suspendTransforms) {\n\t\t\t\t\t\t\t\tstyle[_transformProp] = transformStart + -offsetLeft + \"px,\" + -offsetTop + transformEnd;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstyle.left = -offsetLeft + \"px\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (_addPaddingLeft && offsetLeft + extraPadRight >= 0) {\n\t\t\t\t\t\t\tstyle.paddingRight = offsetLeft + extraPadRight + \"px\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telement.scrollLeft = value | 0;\n\t\t\t\t\tprevLeft = element.scrollLeft; //don't merge this with the line above because some browsers adjsut the scrollLeft after it's set, so in order to be 100% accurate in tracking it, we need to ask the browser to report it.\n\t\t\t\t};\n\n\t\t\t\tthis.top = function(value, force) {\n\t\t\t\t\tif (!arguments.length) {\n\t\t\t\t\t\treturn -(element.scrollTop + offsetTop);\n\t\t\t\t\t}\n\t\t\t\t\tvar dif = element.scrollTop - prevTop,\n\t\t\t\t\t\toldOffset = offsetTop;\n\t\t\t\t\tif ((dif > 2 || dif < -2) && !force) { //if the user interacts with the scrollbar (or something else scrolls it, like the mouse wheel), we should kill any tweens of the ScrollProxy.\n\t\t\t\t\t\tprevTop = element.scrollTop;\n\t\t\t\t\t\tTweenLite.killTweensOf(this, true, {top:1, scrollTop:1});\n\t\t\t\t\t\tthis.top(-prevTop);\n\t\t\t\t\t\tif (vars.onKill) {\n\t\t\t\t\t\t\tvars.onKill();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvalue = -value; //invert because scrolling works in the opposite direction\n\t\t\t\t\tif (value < 0) {\n\t\t\t\t\t\toffsetTop = (value - 0.5) | 0;\n\t\t\t\t\t\tvalue = 0;\n\t\t\t\t\t} else if (value > maxTop) {\n\t\t\t\t\t\toffsetTop = (value - maxTop) | 0;\n\t\t\t\t\t\tvalue = maxTop;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toffsetTop = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (offsetTop || oldOffset) {\n\t\t\t\t\t\tif (transformStart) {\n\t\t\t\t\t\t\tif (!this._suspendTransforms) {\n\t\t\t\t\t\t\t\tstyle[_transformProp] = transformStart + -offsetLeft + \"px,\" + -offsetTop + transformEnd;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstyle.top = -offsetTop + \"px\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telement.scrollTop = value | 0;\n\t\t\t\t\tprevTop = element.scrollTop;\n\t\t\t\t};\n\n\t\t\t\tthis.maxScrollTop = function() {\n\t\t\t\t\treturn maxTop;\n\t\t\t\t};\n\n\t\t\t\tthis.maxScrollLeft = function() {\n\t\t\t\t\treturn maxLeft;\n\t\t\t\t};\n\n\t\t\t\tthis.disable = function() {\n\t\t\t\t\tnode = content.firstChild;\n\t\t\t\t\twhile (node) {\n\t\t\t\t\t\tnextNode = node.nextSibling;\n\t\t\t\t\t\telement.appendChild(node);\n\t\t\t\t\t\tnode = nextNode;\n\t\t\t\t\t}\n\t\t\t\t\tif (element === content.parentNode) { //in case disable() is called when it's already disabled.\n\t\t\t\t\t\telement.removeChild(content);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.enable = function() {\n\t\t\t\t\tnode = element.firstChild;\n\t\t\t\t\tif (node === content) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\twhile (node) {\n\t\t\t\t\t\tnextNode = node.nextSibling;\n\t\t\t\t\t\tcontent.appendChild(node);\n\t\t\t\t\t\tnode = nextNode;\n\t\t\t\t\t}\n\t\t\t\t\telement.appendChild(content);\n\t\t\t\t\tthis.calibrate();\n\t\t\t\t};\n\n\t\t\t\tthis.calibrate = function(force) {\n\t\t\t\t\tvar widthMatches = (element.clientWidth === elementWidth),\n\t\t\t\t\t\tx, y;\n\t\t\t\t\tprevTop = element.scrollTop;\n\t\t\t\t\tprevLeft = element.scrollLeft;\n\t\t\t\t\tif (widthMatches && element.clientHeight === elementHeight && content.offsetHeight === contentHeight && scrollWidth === element.scrollWidth && scrollHeight === element.scrollHeight && !force) {\n\t\t\t\t\t\treturn; //no need to recalculate things if the width and height haven't changed.\n\t\t\t\t\t}\n\t\t\t\t\tif (offsetTop || offsetLeft) {\n\t\t\t\t\t\tx = this.left();\n\t\t\t\t\t\ty = this.top();\n\t\t\t\t\t\tthis.left(-element.scrollLeft);\n\t\t\t\t\t\tthis.top(-element.scrollTop);\n\t\t\t\t\t}\n\t\t\t\t\t//first, we need to remove any width constraints to see how the content naturally flows so that we can see if it's wider than the containing element. If so, we've got to record the amount of overage so that we can apply that as padding in order for browsers to correctly handle things. Then we switch back to a width of 100% (without that, some browsers don't flow the content correctly)\n\t\t\t\t\tif (!widthMatches || force) {\n\t\t\t\t\t\tstyle.display = \"block\";\n\t\t\t\t\t\tstyle.width = \"auto\";\n\t\t\t\t\t\tstyle.paddingRight = \"0px\";\n\t\t\t\t\t\textraPadRight = Math.max(0, element.scrollWidth - element.clientWidth);\n\t\t\t\t\t\t//if the content is wider than the container, we need to add the paddingLeft and paddingRight in order for things to behave correctly.\n\t\t\t\t\t\tif (extraPadRight) {\n\t\t\t\t\t\t\textraPadRight += _getStyle(element, \"paddingLeft\") + (_addPaddingBR ? _getStyle(element, \"paddingRight\") : 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t\t\tstyle.position = \"relative\";\n\t\t\t\t\tstyle.overflow = \"visible\";\n\t\t\t\t\tstyle.verticalAlign = \"top\";\n\t\t\t\t\tstyle.width = \"100%\";\n\t\t\t\t\tstyle.paddingRight = extraPadRight + \"px\";\n\t\t\t\t\t//some browsers neglect to factor in the bottom padding when calculating the scrollHeight, so we need to add that padding to the content when that happens. Allow a 2px margin for error\n\t\t\t\t\tif (_addPaddingBR) {\n\t\t\t\t\t\tstyle.paddingBottom = _getStyle(element, \"paddingBottom\", true);\n\t\t\t\t\t}\n\t\t\t\t\tif (_isOldIE) {\n\t\t\t\t\t\tstyle.zoom = \"1\";\n\t\t\t\t\t}\n\t\t\t\t\telementWidth = element.clientWidth;\n\t\t\t\t\telementHeight = element.clientHeight;\n\t\t\t\t\tscrollWidth = element.scrollWidth;\n\t\t\t\t\tscrollHeight = element.scrollHeight;\n\t\t\t\t\tmaxLeft = element.scrollWidth - elementWidth;\n\t\t\t\t\tmaxTop = element.scrollHeight - elementHeight;\n\t\t\t\t\tcontentHeight = content.offsetHeight;\n\t\t\t\t\tstyle.display = \"block\";\n\t\t\t\t\tif (x || y) {\n\t\t\t\t\t\tthis.left(x);\n\t\t\t\t\t\tthis.top(y);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.content = content;\n\t\t\t\tthis.element = element;\n\t\t\t\tthis._suspendTransforms = false;\n\t\t\t\tthis.enable();\n\t\t\t},\n\n\n\n\n\n\t\t\tDraggable = function(target, vars) {\n\t\t\t\tEventDispatcher.call(this, target);\n\t\t\t\ttarget = _unwrapElement(target); //in case the target is a selector object or selector text\n\t\t\t\tif (!ThrowPropsPlugin) {\n\t\t\t\t\tThrowPropsPlugin = _globals.com.greensock.plugins.ThrowPropsPlugin;\n\t\t\t\t}\n\t\t\t\tthis.vars = vars = vars || {};\n\t\t\t\tthis.target = target;\n\t\t\t\tthis.x = this.y = this.rotation = 0;\n\t\t\t\tthis.dragResistance = parseFloat(vars.dragResistance) || 0;\n\t\t\t\tthis.edgeResistance = isNaN(vars.edgeResistance) ? 1 : parseFloat(vars.edgeResistance) || 0;\n\t\t\t\tthis.lockAxis = vars.lockAxis;\n\t\t\t\tthis.autoScroll = vars.autoScroll || 0;\n\t\t\t\tthis.lockedAxis = null;\n\t\t\t\tthis.allowEventDefault = !!vars.allowEventDefault;\n\t\t\t\tvar type = (vars.type || (_isOldIE ? \"top,left\" : \"x,y\")).toLowerCase(),\n\t\t\t\t\txyMode = (type.indexOf(\"x\") !== -1 || type.indexOf(\"y\") !== -1),\n\t\t\t\t\trotationMode = (type.indexOf(\"rotation\") !== -1),\n\t\t\t\t\txProp = rotationMode ? \"rotation\" : xyMode ? \"x\" : \"left\",\n\t\t\t\t\tyProp = xyMode ? \"y\" : \"top\",\n\t\t\t\t\tallowX = (type.indexOf(\"x\") !== -1 || type.indexOf(\"left\") !== -1 || type === \"scroll\"),\n\t\t\t\t\tallowY = (type.indexOf(\"y\") !== -1 || type.indexOf(\"top\") !== -1 || type === \"scroll\"),\n\t\t\t\t\tminimumMovement = vars.minimumMovement || 2,\n\t\t\t\t\tself = this,\n\t\t\t\t\ttriggers = _slice(vars.trigger || vars.handle || target),\n\t\t\t\t\tkillProps = {},\n\t\t\t\t\tdragEndTime = 0,\n\t\t\t\t\tcheckAutoScrollBounds = false,\n\t\t\t\t\tisClickable = vars.clickableTest || _isClickable,\n\t\t\t\t\tenabled, scrollProxy, startPointerX, startPointerY, startElementX, startElementY, hasBounds, hasDragCallback, maxX, minX, maxY, minY, tempVars, cssVars, touch, touchID, rotationOrigin, dirty, old, snapX, snapY, isClicking, touchEventTarget, matrix, interrupted, clickTime, startScrollTop, startScrollLeft, applyObj, allowNativeTouchScrolling, touchDragAxis, isDispatching,\n\n\t\t\t\t\t//this method gets called on every tick of TweenLite.ticker which allows us to synchronize the renders to the core engine (which is typically synchronized with the display refresh via requestAnimationFrame). This is an optimization - it's better than applying the values inside the \"mousemove\" or \"touchmove\" event handler which may get called many times inbetween refreshes.\n\t\t\t\t\trender = function(suppressEvents) {\n\t\t\t\t\t\tif (self.autoScroll && self.isDragging && (dirty || checkAutoScrollBounds)) {\n\t\t\t\t\t\t\tvar e = target,\n\t\t\t\t\t\t\t\tautoScrollFactor = self.autoScroll * 15, //multiplying by 15 just gives us a better \"feel\" speed-wise.\n\t\t\t\t\t\t\t\tparent, isRoot, rect, pointerX, pointerY, changeX, changeY, gap;\n\t\t\t\t\t\t\tcheckAutoScrollBounds = false;\n\t\t\t\t\t\t\t_windowProxy.scrollTop = ((window.pageYOffset != null) ? window.pageYOffset : (_docElement.scrollTop != null) ? _docElement.scrollTop : _doc.body.scrollTop);\n\t\t\t\t\t\t\t_windowProxy.scrollLeft = ((window.pageXOffset != null) ? window.pageXOffset : (_docElement.scrollLeft != null) ? _docElement.scrollLeft : _doc.body.scrollLeft);\n\t\t\t\t\t\t\tpointerX = self.pointerX - _windowProxy.scrollLeft;\n\t\t\t\t\t\t\tpointerY = self.pointerY - _windowProxy.scrollTop;\n\t\t\t\t\t\t\twhile (e && !isRoot) { //walk up the chain and sense wherever the pointer is within 40px of an edge that's scrollable.\n\t\t\t\t\t\t\t\tisRoot = _isRoot(e.parentNode);\n\t\t\t\t\t\t\t\tparent = isRoot ? _windowProxy : e.parentNode;\n\t\t\t\t\t\t\t\trect = isRoot ? {bottom:Math.max(_docElement.clientHeight, window.innerHeight || 0), right: Math.max(_docElement.clientWidth, window.innerWidth || 0), left:0, top:0} : parent.getBoundingClientRect();\n\t\t\t\t\t\t\t\tchangeX = changeY = 0;\n\t\t\t\t\t\t\t\tif (allowY) {\n\t\t\t\t\t\t\t\t\tif (pointerY > rect.bottom - 40 && (gap = parent._gsMaxScrollY - parent.scrollTop)) {\n\t\t\t\t\t\t\t\t\t\tcheckAutoScrollBounds = true;\n\t\t\t\t\t\t\t\t\t\tchangeY = Math.min(gap, (autoScrollFactor * (1 - Math.max(0, (rect.bottom - pointerY)) / 40)) | 0);\n\t\t\t\t\t\t\t\t\t} else if (pointerY < rect.top + 40 && parent.scrollTop) {\n\t\t\t\t\t\t\t\t\t\tcheckAutoScrollBounds = true;\n\t\t\t\t\t\t\t\t\t\tchangeY = -Math.min(parent.scrollTop, (autoScrollFactor * (1 - Math.max(0, (pointerY - rect.top)) / 40)) | 0);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (changeY) {\n\t\t\t\t\t\t\t\t\t\tparent.scrollTop += changeY;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (allowX) {\n\t\t\t\t\t\t\t\t\tif (pointerX > rect.right - 40 && (gap = parent._gsMaxScrollX - parent.scrollLeft)) {\n\t\t\t\t\t\t\t\t\t\tcheckAutoScrollBounds = true;\n\t\t\t\t\t\t\t\t\t\tchangeX = Math.min(gap, (autoScrollFactor * (1 - Math.max(0, (rect.right - pointerX)) / 40)) | 0);\n\t\t\t\t\t\t\t\t\t} else if (pointerX < rect.left + 40 && parent.scrollLeft) {\n\t\t\t\t\t\t\t\t\t\tcheckAutoScrollBounds = true;\n\t\t\t\t\t\t\t\t\t\tchangeX = -Math.min(parent.scrollLeft, (autoScrollFactor * (1 - Math.max(0, (pointerX - rect.left)) / 40)) | 0);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (changeX) {\n\t\t\t\t\t\t\t\t\t\tparent.scrollLeft += changeX;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (isRoot && (changeX || changeY)) {\n\t\t\t\t\t\t\t\t\twindow.scrollTo(parent.scrollLeft, parent.scrollTop);\n\t\t\t\t\t\t\t\t\tsetPointerPosition(self.pointerX + changeX, self.pointerY + changeY);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\te = parent;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (dirty) {\n\t\t\t\t\t\t\tvar x = self.x,\n\t\t\t\t\t\t\t\ty = self.y,\n\t\t\t\t\t\t\t\tmin = 0.000001;\n\t\t\t\t\t\t\tif (x < min && x > -min) { //browsers don't handle super small decimals well.\n\t\t\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (y < min && y > -min) {\n\t\t\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (rotationMode) {\n\t\t\t\t\t\t\t\tapplyObj.data.rotation = self.rotation = x;\n\t\t\t\t\t\t\t\tapplyObj.setRatio(1); //note: instead of doing TweenLite.set(), as a performance optimization we skip right to the method that renders the transforms inside CSSPlugin. For old versions of IE, though, we do a normal TweenLite.set() to leverage its ability to re-reroute to an IE-specific 2D renderer.\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (scrollProxy) {\n\t\t\t\t\t\t\t\t\tif (allowY) {\n\t\t\t\t\t\t\t\t\t\tscrollProxy.top(y);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (allowX) {\n\t\t\t\t\t\t\t\t\t\tscrollProxy.left(x);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (xyMode) {\n\t\t\t\t\t\t\t\t\tif (allowY) {\n\t\t\t\t\t\t\t\t\t\tapplyObj.data.y = y;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (allowX) {\n\t\t\t\t\t\t\t\t\t\tapplyObj.data.x = x;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tapplyObj.setRatio(1); //note: instead of doing TweenLite.set(), as a performance optimization we skip right to the method that renders the transforms inside CSSPlugin. For old versions of IE, though, we do a normal TweenLite.set() to leverage its ability to re-reroute to an IE-specific 2D renderer.\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (allowY) {\n\t\t\t\t\t\t\t\t\t\ttarget.style.top = y + \"px\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (allowX) {\n\t\t\t\t\t\t\t\t\t\ttarget.style.left = x + \"px\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (hasDragCallback && !suppressEvents && !isDispatching) {\n\t\t\t\t\t\t\t\tisDispatching = true; //in case onDrag has an update() call (avoid endless loop)\n\t\t\t\t\t\t\t\t_dispatchEvent(self, \"drag\", \"onDrag\");\n\t\t\t\t\t\t\t\tisDispatching = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdirty = false;\n\t\t\t\t\t},\n\n\t\t\t\t\t//copies the x/y from the element (whether that be transforms, top/left, or ScrollProxy's top/left) to the Draggable's x and y (and rotation if necessary) properties so that they reflect reality and it also (optionally) applies any snapping necessary. This is used by the ThrowPropsPlugin tween in an onUpdate to ensure things are synced and snapped.\n\t\t\t\t\tsyncXY = function(skipOnUpdate, skipSnap) {\n\t\t\t\t\t\tvar x = self.x,\n\t\t\t\t\t\t\ty = self.y,\n\t\t\t\t\t\t\tsnappedValue;\n\t\t\t\t\t\tif (!target._gsTransform && (xyMode || rotationMode)) { //just in case the _gsTransform got wiped, like if the user called clearProps on the transform or something (very rare), doing an x tween forces a re-parsing of the transforms and population of the _gsTransform.\n\t\t\t\t\t\t\tTweenLite.set(target, {x:\"+=0\", overwrite:false});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (xyMode) {\n\t\t\t\t\t\t\tself.y = target._gsTransform.y;\n\t\t\t\t\t\t\tself.x = target._gsTransform.x;\n\t\t\t\t\t\t} else if (rotationMode) {\n\t\t\t\t\t\t\tself.x = self.rotation = target._gsTransform.rotation;\n\t\t\t\t\t\t} else if (scrollProxy) {\n\t\t\t\t\t\t\tself.y = scrollProxy.top();\n\t\t\t\t\t\t\tself.x = scrollProxy.left();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.y = parseInt(target.style.top, 10) || 0;\n\t\t\t\t\t\t\tself.x = parseInt(target.style.left, 10) || 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ((snapX || snapY) && !skipSnap) {\n\t\t\t\t\t\t\tif (snapX) {\n\t\t\t\t\t\t\t\tsnappedValue = snapX(self.x);\n\t\t\t\t\t\t\t\tif (snappedValue !== self.x) {\n\t\t\t\t\t\t\t\t\tself.x = snappedValue;\n\t\t\t\t\t\t\t\t\tif (rotationMode) {\n\t\t\t\t\t\t\t\t\t\tself.rotation = snappedValue;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (snapY) {\n\t\t\t\t\t\t\t\tsnappedValue = snapY(self.y);\n\t\t\t\t\t\t\t\tif (snappedValue !== self.y) {\n\t\t\t\t\t\t\t\t\tself.y = snappedValue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (x !== self.x || y !== self.y) {\n\t\t\t\t\t\t\trender(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!skipOnUpdate) {\n\t\t\t\t\t\t\t_dispatchEvent(self, \"throwupdate\", \"onThrowUpdate\");\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tcalculateBounds = function() {\n\t\t\t\t\t\tvar bounds, targetBounds, snap, snapIsRaw;\n\t\t\t\t\t\thasBounds = false;\n\t\t\t\t\t\tif (scrollProxy) {\n\t\t\t\t\t\t\tscrollProxy.calibrate();\n\t\t\t\t\t\t\tself.minX = minX = -scrollProxy.maxScrollLeft();\n\t\t\t\t\t\t\tself.minY = minY = -scrollProxy.maxScrollTop();\n\t\t\t\t\t\t\tself.maxX = maxX = self.maxY = maxY = 0;\n\t\t\t\t\t\t\thasBounds = true;\n\t\t\t\t\t\t} else if (!!vars.bounds) {\n\t\t\t\t\t\t\tbounds = _getBounds(vars.bounds, target.parentNode); //could be a selector/jQuery object or a DOM element or a generic object like {top:0, left:100, width:1000, height:800} or {minX:100, maxX:1100, minY:0, maxY:800}\n\t\t\t\t\t\t\tif (rotationMode) {\n\t\t\t\t\t\t\t\tself.minX = minX = bounds.left;\n\t\t\t\t\t\t\t\tself.maxX = maxX = bounds.left + bounds.width;\n\t\t\t\t\t\t\t\tself.minY = minY = self.maxY = maxY = 0;\n\t\t\t\t\t\t\t} else if (vars.bounds.maxX !== undefined || vars.bounds.maxY !== undefined) {\n\t\t\t\t\t\t\t\tbounds = vars.bounds;\n\t\t\t\t\t\t\t\tself.minX = minX = bounds.minX;\n\t\t\t\t\t\t\t\tself.minY = minY = bounds.minY;\n\t\t\t\t\t\t\t\tself.maxX = maxX = bounds.maxX;\n\t\t\t\t\t\t\t\tself.maxY = maxY = bounds.maxY;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttargetBounds = _getBounds(target, target.parentNode);\n\t\t\t\t\t\t\t\tself.minX = minX = _getStyle(target, xProp) + bounds.left - targetBounds.left;\n\t\t\t\t\t\t\t\tself.minY = minY = _getStyle(target, yProp) + bounds.top - targetBounds.top;\n\t\t\t\t\t\t\t\tself.maxX = maxX = minX + (bounds.width - targetBounds.width);\n\t\t\t\t\t\t\t\tself.maxY = maxY = minY + (bounds.height - targetBounds.height);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (minX > maxX) {\n\t\t\t\t\t\t\t\tself.minX = maxX;\n\t\t\t\t\t\t\t\tself.maxX = maxX = minX;\n\t\t\t\t\t\t\t\tminX = self.minX;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (minY > maxY) {\n\t\t\t\t\t\t\t\tself.minY = maxY;\n\t\t\t\t\t\t\t\tself.maxY = maxY = minY;\n\t\t\t\t\t\t\t\tminY = self.minY;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (rotationMode) {\n\t\t\t\t\t\t\t\tself.minRotation = minX;\n\t\t\t\t\t\t\t\tself.maxRotation = maxX;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasBounds = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (vars.liveSnap) {\n\t\t\t\t\t\t\tsnap = (vars.liveSnap === true) ? (vars.snap || {}) : vars.liveSnap;\n\t\t\t\t\t\t\tsnapIsRaw = (snap instanceof Array || typeof(snap) === \"function\");\n\t\t\t\t\t\t\tif (rotationMode) {\n\t\t\t\t\t\t\t\tsnapX = buildSnapFunc((snapIsRaw ? snap : snap.rotation), minX, maxX, 1);\n\t\t\t\t\t\t\t\tsnapY = null;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (allowX) {\n\t\t\t\t\t\t\t\t\tsnapX = buildSnapFunc((snapIsRaw ? snap : snap.x || snap.left || snap.scrollLeft), minX, maxX, scrollProxy ? -1 : 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (allowY) {\n\t\t\t\t\t\t\t\t\tsnapY = buildSnapFunc((snapIsRaw ? snap : snap.y || snap.top || snap.scrollTop), minY, maxY, scrollProxy ? -1 : 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\n\t\t\t\t\tonThrowComplete = function() {\n\t\t\t\t\t\tself.isThrowing = false;\n\t\t\t\t\t\t_dispatchEvent(self, \"throwcomplete\", \"onThrowComplete\");\n\t\t\t\t\t},\n\t\t\t\t\tonThrowOverwrite = function() {\n\t\t\t\t\t\tself.isThrowing = false;\n\t\t\t\t\t},\n\n\t\t\t\t\tanimate = function(throwProps, forceZeroVelocity) {\n\t\t\t\t\t\tvar snap, snapIsRaw, tween, overshootTolerance;\n\t\t\t\t\t\tif (throwProps && ThrowPropsPlugin) {\n\t\t\t\t\t\t\tif (throwProps === true) {\n\t\t\t\t\t\t\t\tsnap = vars.snap || {};\n\t\t\t\t\t\t\t\tsnapIsRaw = (snap instanceof Array || typeof(snap) === \"function\");\n\t\t\t\t\t\t\t\tthrowProps = {resistance:(vars.throwResistance || vars.resistance || 1000) / (rotationMode ? 10 : 1)};\n\t\t\t\t\t\t\t\tif (rotationMode) {\n\t\t\t\t\t\t\t\t\tthrowProps.rotation = _parseThrowProps(self, snapIsRaw ? snap : snap.rotation, maxX, minX, 1, forceZeroVelocity);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (allowX) {\n\t\t\t\t\t\t\t\t\t\tthrowProps[xProp] = _parseThrowProps(self, snapIsRaw ? snap : snap.x || snap.left || snap.scrollLeft, maxX, minX, scrollProxy ? -1 : 1, forceZeroVelocity || (self.lockedAxis === \"x\"));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (allowY) {\n\t\t\t\t\t\t\t\t\t\tthrowProps[yProp] = _parseThrowProps(self, snapIsRaw ? snap : snap.y || snap.top || snap.scrollTop, maxY, minY, scrollProxy ? -1 : 1, forceZeroVelocity || (self.lockedAxis === \"y\"));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.isThrowing = true;\n\t\t\t\t\t\t\tovershootTolerance = (!isNaN(vars.overshootTolerance)) ? vars.overshootTolerance : (vars.edgeResistance === 1) ? 0 : (1 - self.edgeResistance) + 0.2;\n\t\t\t\t\t\t\tself.tween = tween = ThrowPropsPlugin.to(scrollProxy || target, {throwProps:throwProps, ease:(vars.ease || _globals.Power3.easeOut), onComplete:onThrowComplete, onOverwrite:onThrowOverwrite, onUpdate:(vars.fastMode ? _dispatchEvent : syncXY), onUpdateParams:(vars.fastMode ? [self, \"onthrowupdate\", \"onThrowUpdate\"] : _emptyArray)}, (isNaN(vars.maxDuration) ? 2 : vars.maxDuration), (!isNaN(vars.minDuration) ? vars.minDuration : (overshootTolerance === 0) ? 0 : 0.5), overshootTolerance);\n\t\t\t\t\t\t\tif (!vars.fastMode) {\n\t\t\t\t\t\t\t\t//to populate the end values, we just scrub the tween to the end, record the values, and then jump back to the beginning.\n\t\t\t\t\t\t\t\tif (scrollProxy) {\n\t\t\t\t\t\t\t\t\tscrollProxy._suspendTransforms = true; //Microsoft browsers have a bug that causes them to briefly render the position incorrectly (it flashes to the end state when we seek() the tween even though we jump right back to the current position, and this only seems to happen when we're affecting both top and left), so we set a _suspendTransforms flag to prevent it from actually applying the values in the ScrollProxy.\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttween.render(tween.duration(), true, true);\n\t\t\t\t\t\t\t\tsyncXY(true, true);\n\t\t\t\t\t\t\t\tself.endX = self.x;\n\t\t\t\t\t\t\t\tself.endY = self.y;\n\t\t\t\t\t\t\t\tif (rotationMode) {\n\t\t\t\t\t\t\t\t\tself.endRotation = self.x;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttween.play(0);\n\t\t\t\t\t\t\t\tsyncXY(true, true);\n\t\t\t\t\t\t\t\tif (scrollProxy) {\n\t\t\t\t\t\t\t\t\tscrollProxy._suspendTransforms = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (hasBounds) {\n\t\t\t\t\t\t\tself.applyBounds();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tupdateMatrix = function() {\n\t\t\t\t\t\tmatrix = _getConcatenatedMatrix(target.parentNode, true);\n\t\t\t\t\t\tif (!matrix[1] && !matrix[2] && matrix[0] == 1 && matrix[3] == 1 && matrix[4] == 0 && matrix[5] == 0) { //if there are no transforms, we can optimize performance by not factoring in the matrix\n\t\t\t\t\t\t\tmatrix = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\trecordStartPositions = function() {\n\t\t\t\t\t\tvar edgeTolerance = 1 - self.edgeResistance;\n\t\t\t\t\t\tupdateMatrix();\n\t\t\t\t\t\tif (scrollProxy) {\n\t\t\t\t\t\t\tcalculateBounds();\n\t\t\t\t\t\t\tstartElementY = scrollProxy.top();\n\t\t\t\t\t\t\tstartElementX = scrollProxy.left();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//if the element is in the process of tweening, don't force snapping to occur because it could make it jump. Imagine the user throwing, then before it's done, clicking on the element in its inbetween state.\n\t\t\t\t\t\t\tif (isTweening()) {\n\t\t\t\t\t\t\t\tsyncXY(true, true);\n\t\t\t\t\t\t\t\tcalculateBounds();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tself.applyBounds();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (rotationMode) {\n\t\t\t\t\t\t\t\trotationOrigin = _localToGlobal(target, {x:0, y:0});\n\t\t\t\t\t\t\t\tsyncXY(true, true);\n\t\t\t\t\t\t\t\tstartElementX = self.x; //starting rotation (x always refers to rotation in type:\"rotation\", measured in degrees)\n\t\t\t\t\t\t\t\tstartElementY = self.y = Math.atan2(rotationOrigin.y - startPointerY, startPointerX - rotationOrigin.x) * _RAD2DEG;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstartScrollTop = target.parentNode ? target.parentNode.scrollTop || 0 : 0;\n\t\t\t\t\t\t\t\tstartScrollLeft = target.parentNode ? target.parentNode.scrollLeft || 0 : 0;\n\t\t\t\t\t\t\t\tstartElementY = _getStyle(target, yProp); //record the starting top and left values so that we can just add the mouse's movement to them later.\n\t\t\t\t\t\t\t\tstartElementX = _getStyle(target, xProp);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (hasBounds && edgeTolerance) {\n\t\t\t\t\t\t\tif (startElementX > maxX) {\n\t\t\t\t\t\t\t\tstartElementX = maxX + (startElementX - maxX) / edgeTolerance;\n\t\t\t\t\t\t\t} else if (startElementX < minX) {\n\t\t\t\t\t\t\t\tstartElementX = minX - (minX - startElementX) / edgeTolerance;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!rotationMode) {\n\t\t\t\t\t\t\t\tif (startElementY > maxY) {\n\t\t\t\t\t\t\t\t\tstartElementY = maxY + (startElementY - maxY) / edgeTolerance;\n\t\t\t\t\t\t\t\t} else if (startElementY < minY) {\n\t\t\t\t\t\t\t\t\tstartElementY = minY - (minY - startElementY) / edgeTolerance;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tisTweening = function() {\n\t\t\t\t\t\treturn (self.tween && self.tween.isActive());\n\t\t\t\t\t},\n\n\t\t\t\t\tbuildSnapFunc = function(snap, min, max, factor) {\n\t\t\t\t\t\tif (typeof(snap) === \"function\") {\n\t\t\t\t\t\t\treturn function(n) {\n\t\t\t\t\t\t\t\tvar edgeTolerance = !self.isPressed ? 1 : 1 - self.edgeResistance; //if we're tweening, disable the edgeTolerance because it's already factored into the tweening values (we don't want to apply it multiple times)\n\t\t\t\t\t\t\t\treturn snap.call(self, (n > max ? max + (n - max) * edgeTolerance : (n < min) ? min + (n - min) * edgeTolerance : n)) * factor;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (snap instanceof Array) {\n\t\t\t\t\t\t\treturn function(n) {\n\t\t\t\t\t\t\t\tvar i = snap.length,\n\t\t\t\t\t\t\t\t\tclosest = 0,\n\t\t\t\t\t\t\t\t\tabsDif = _max,\n\t\t\t\t\t\t\t\t\tval, dif;\n\t\t\t\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t\t\t\tval = snap[i];\n\t\t\t\t\t\t\t\t\tdif = val - n;\n\t\t\t\t\t\t\t\t\tif (dif < 0) {\n\t\t\t\t\t\t\t\t\t\tdif = -dif;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (dif < absDif && val >= min && val <= max) {\n\t\t\t\t\t\t\t\t\t\tclosest = i;\n\t\t\t\t\t\t\t\t\t\tabsDif = dif;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn snap[closest];\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn isNaN(snap) ? function(n) { return n; } : function() { return snap * factor; };\n\t\t\t\t\t},\n\n\t\t\t\t\t//called when the mouse is pressed (or touch starts)\n\t\t\t\t\tonPress = function(e) {\n\t\t\t\t\t\tvar temp, i;\n\t\t\t\t\t\tif (!enabled || self.isPressed || !e || (e.type === \"mousedown\" && _getTime() - clickTime < 30 && _touchEventLookup[self.pointerEvent.type])) { //when we DON'T preventDefault() in order to accommodate touch-scrolling and the user just taps, many browsers also fire a mousedown/mouseup sequence AFTER the touchstart/touchend sequence, thus it'd result in two quick \"click\" events being dispatched. This line senses that condition and halts it on the subsequent mousedown.\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinterrupted = isTweening();\n\t\t\t\t\t\tself.pointerEvent = e;\n\t\t\t\t\t\tif (_touchEventLookup[e.type]) { //note: on iOS, BOTH touchmove and mousemove are dispatched, but the mousemove has pageY and pageX of 0 which would mess up the calculations and needlessly hurt performance.\n\t\t\t\t\t\t\ttouchEventTarget = (e.type.indexOf(\"touch\") !== -1) ? (e.currentTarget || e.target) : _doc; //pointer-based touches (for Microsoft browsers) don't remain locked to the original target like other browsers, so we must use the document instead. The event type would be \"MSPointerDown\" or \"pointerdown\".\n\t\t\t\t\t\t\t_addListener(touchEventTarget, \"touchend\", onRelease);\n\t\t\t\t\t\t\t_addListener(touchEventTarget, \"touchmove\", onMove);\n\t\t\t\t\t\t\t_addListener(touchEventTarget, \"touchcancel\", onRelease);\n\t\t\t\t\t\t\t_addListener(_doc, \"touchstart\", _onMultiTouchDocument);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttouchEventTarget = null;\n\t\t\t\t\t\t\t_addListener(_doc, \"mousemove\", onMove); //attach these to the document instead of the box itself so that if the user's mouse moves too quickly (and off of the box), things still work.\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttouchDragAxis = null;\n\t\t\t\t\t\t_addListener(_doc, \"mouseup\", onRelease);\n\t\t\t\t\t\tif (e && e.target) {\n\t\t\t\t\t\t\t_addListener(e.target, \"mouseup\", onRelease); //we also have to listen directly on the element because some browsers don't bubble up the event to the _doc on elements with contentEditable=\"true\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisClicking = (isClickable.call(self, e.target) && !vars.dragClickables);\n\t\t\t\t\t\tif (isClicking) {\n\t\t\t\t\t\t\t_addListener(e.target, \"change\", onRelease); //in some browsers, when you mousedown on a <select> element, no mouseup gets dispatched! So we listen for a \"change\" event instead.\n\t\t\t\t\t\t\t_dispatchEvent(self, \"press\", \"onPress\");\n\t\t\t\t\t\t\t_setSelectable(triggers, true); //accommodates things like inputs and elements with contentEditable=\"true\" (otherwise user couldn't drag to select text)\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tallowNativeTouchScrolling = (!touchEventTarget || allowX === allowY || scrollProxy || self.vars.allowNativeTouchScrolling === false) ? false : allowX ? \"y\" : \"x\";\n\t\t\t\t\t\tif (_isOldIE) {\n\t\t\t\t\t\t\te = _populateIEEvent(e, true);\n\t\t\t\t\t\t} else if (!allowNativeTouchScrolling && !self.allowEventDefault) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (e.preventManipulation) {\n\t\t\t\t\t\t\t\te.preventManipulation();  //for some Microsoft browsers\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (e.changedTouches) { //touch events store the data slightly differently\n\t\t\t\t\t\t\te = touch = e.changedTouches[0];\n\t\t\t\t\t\t\ttouchID = e.identifier;\n\t\t\t\t\t\t} else if (e.pointerId) {\n\t\t\t\t\t\t\ttouchID = e.pointerId; //for some Microsoft browsers\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttouch = touchID = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_dragCount++;\n\t\t\t\t\t\t_addToRenderQueue(render); //causes the Draggable to render on each \"tick\" of TweenLite.ticker (performance optimization - updating values in a mousemove can cause them to happen too frequently, like multiple times between frame redraws which is wasteful, and it also prevents values from updating properly in IE8)\n\t\t\t\t\t\tstartPointerY = self.pointerY = e.pageY; //record the starting x and y so that we can calculate the movement from the original in _onMouseMove\n\t\t\t\t\t\tstartPointerX = self.pointerX = e.pageX;\n\t\t\t\t\t\tif (allowNativeTouchScrolling || self.autoScroll) {\n\t\t\t\t\t\t\t_recordMaxScrolls(target.parentNode);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self.autoScroll && !rotationMode && !scrollProxy && target.parentNode && !target.getBBox && target.parentNode._gsMaxScrollX && !_placeholderDiv.parentNode) {//add a placeholder div to prevent the parent container from collapsing when the user drags the element left.\n\t\t\t\t\t\t\t_placeholderDiv.style.width = (target.parentNode.scrollWidth) + \"px\";\n\t\t\t\t\t\t\ttarget.parentNode.appendChild(_placeholderDiv);\n\t\t\t\t\t\t}\n\t\t\t\t\t\trecordStartPositions();\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\ttemp = startPointerX * matrix[0] + startPointerY * matrix[2] + matrix[4];\n\t\t\t\t\t\t\tstartPointerY = startPointerX * matrix[1] + startPointerY * matrix[3] + matrix[5];\n\t\t\t\t\t\t\tstartPointerX = temp;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self.tween) {\n\t\t\t\t\t\t\tself.tween.kill();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.isThrowing = false;\n\t\t\t\t\t\tTweenLite.killTweensOf(scrollProxy || target, true, killProps); //in case the user tries to drag it before the last tween is done.\n\t\t\t\t\t\tif (scrollProxy) {\n\t\t\t\t\t\t\tTweenLite.killTweensOf(target, true, {scrollTo:1}); //just in case the original target's scroll position is being tweened somewhere else.\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.tween = self.lockedAxis = null;\n\t\t\t\t\t\tif (vars.zIndexBoost || (!rotationMode && !scrollProxy && vars.zIndexBoost !== false)) {\n\t\t\t\t\t\t\ttarget.style.zIndex = Draggable.zIndex++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.isPressed = true;\n\t\t\t\t\t\thasDragCallback = !!(vars.onDrag || self._listeners.drag);\n\t\t\t\t\t\tif (!rotationMode) {\n\t\t\t\t\t\t\ti = triggers.length;\n\t\t\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t\t\t_setStyle(triggers[i], \"cursor\", vars.cursor || \"move\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_dispatchEvent(self, \"press\", \"onPress\");\n\t\t\t\t\t},\n\n\t\t\t\t\t//called every time the mouse/touch moves\n\t\t\t\t\tonMove = function(e) {\n\t\t\t\t\t\tvar originalEvent = e,\n\t\t\t\t\t\t\ttouches, pointerX, pointerY, i;\n\t\t\t\t\t\tif (!enabled || _isMultiTouching || !self.isPressed || !e) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.pointerEvent = e;\n\t\t\t\t\t\ttouches = e.changedTouches;\n\t\t\t\t\t\tif (touches) { //touch events store the data slightly differently\n\t\t\t\t\t\t\te = touches[0];\n\t\t\t\t\t\t\tif (e !== touch && e.identifier !== touchID) { //Usually changedTouches[0] will be what we're looking for, but in case it's not, look through the rest of the array...(and Android browsers don't reuse the event like iOS)\n\t\t\t\t\t\t\t\ti = touches.length;\n\t\t\t\t\t\t\t\twhile (--i > -1 && (e = touches[i]).identifier !== touchID) {}\n\t\t\t\t\t\t\t\tif (i < 0) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (e.pointerId && touchID && e.pointerId !== touchID) { //for some Microsoft browsers, we must attach the listener to the doc rather than the trigger so that when the finger moves outside the bounds of the trigger, things still work. So if the event we're receiving has a pointerId that doesn't match the touchID, ignore it (for multi-touch)\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (_isOldIE) {\n\t\t\t\t\t\t\te = _populateIEEvent(e, true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (touchEventTarget && allowNativeTouchScrolling && !touchDragAxis) { //Android browsers force us to decide on the first \"touchmove\" event if we should allow the default (scrolling) behavior or preventDefault(). Otherwise, a \"touchcancel\" will be fired and then no \"touchmove\" or \"touchend\" will fire during the scrolling (no good).\n\t\t\t\t\t\t\t\tpointerX = e.pageX;\n\t\t\t\t\t\t\t\tpointerY = e.pageY;\n\t\t\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\t\t\ti = pointerX * matrix[0] + pointerY * matrix[2] + matrix[4];\n\t\t\t\t\t\t\t\t\tpointerY = pointerX * matrix[1] + pointerY * matrix[3] + matrix[5];\n\t\t\t\t\t\t\t\t\tpointerX = i;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttouchDragAxis = (Math.abs(pointerX - startPointerX) > Math.abs(pointerY - startPointerY) && allowX) ? \"x\" : \"y\";\n\t\t\t\t\t\t\t\tif (self.vars.lockAxisOnTouchScroll !== false) {\n\t\t\t\t\t\t\t\t\tself.lockedAxis = (touchDragAxis === \"x\") ? \"y\" : \"x\";\n\t\t\t\t\t\t\t\t\tif (typeof(self.vars.onLockAxis) === \"function\") {\n\t\t\t\t\t\t\t\t\t\tself.vars.onLockAxis.call(self, originalEvent);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (_isAndroid && allowNativeTouchScrolling === touchDragAxis) {\n\t\t\t\t\t\t\t\t\tonRelease(originalEvent);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!self.allowEventDefault && (!allowNativeTouchScrolling || (touchDragAxis && allowNativeTouchScrolling !== touchDragAxis)) && originalEvent.cancelable !== false) {\n\t\t\t\t\t\t\t\toriginalEvent.preventDefault();\n\t\t\t\t\t\t\t\tif (originalEvent.preventManipulation) { //for some Microsoft browsers\n\t\t\t\t\t\t\t\t\toriginalEvent.preventManipulation();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self.autoScroll) {\n\t\t\t\t\t\t\tcheckAutoScrollBounds = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetPointerPosition(e.pageX, e.pageY);\n\t\t\t\t\t},\n\n\t\t\t\t\tsetPointerPosition = function(pointerX, pointerY) {\n\t\t\t\t\t\tvar dragTolerance = 1 - self.dragResistance,\n\t\t\t\t\t\t\tedgeTolerance = 1 - self.edgeResistance,\n\t\t\t\t\t\t\txChange, yChange, x, y, dif, temp;\n\n\t\t\t\t\t\tself.pointerX = pointerX;\n\t\t\t\t\t\tself.pointerY = pointerY;\n\n\t\t\t\t\t\tif (rotationMode) {\n\t\t\t\t\t\t\ty = Math.atan2(rotationOrigin.y - pointerY, pointerX - rotationOrigin.x) * _RAD2DEG;\n\t\t\t\t\t\t\tdif = self.y - y;\n\t\t\t\t\t\t\tself.y = y;\n\t\t\t\t\t\t\tif (dif > 180) {\n\t\t\t\t\t\t\t\tstartElementY -= 360;\n\t\t\t\t\t\t\t} else if (dif < -180) {\n\t\t\t\t\t\t\t\tstartElementY += 360;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tx = startElementX + (startElementY - y) * dragTolerance;\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\t\ttemp = pointerX * matrix[0] + pointerY * matrix[2] + matrix[4];\n\t\t\t\t\t\t\t\tpointerY = pointerX * matrix[1] + pointerY * matrix[3] + matrix[5];\n\t\t\t\t\t\t\t\tpointerX = temp;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tyChange = (pointerY - startPointerY);\n\t\t\t\t\t\t\txChange = (pointerX - startPointerX);\n\t\t\t\t\t\t\tif (yChange < minimumMovement && yChange > -minimumMovement) {\n\t\t\t\t\t\t\t\tyChange = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (xChange < minimumMovement && xChange > -minimumMovement) {\n\t\t\t\t\t\t\t\txChange = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ((self.lockAxis || self.lockedAxis) && (xChange || yChange)) {\n\t\t\t\t\t\t\t\ttemp = self.lockedAxis;\n\t\t\t\t\t\t\t\tif (!temp) {\n\t\t\t\t\t\t\t\t\tself.lockedAxis = temp = (allowX && Math.abs(xChange) > Math.abs(yChange)) ? \"y\" : allowY ? \"x\" : null;\n\t\t\t\t\t\t\t\t\tif (temp && typeof(self.vars.onLockAxis) === \"function\") {\n\t\t\t\t\t\t\t\t\t\tself.vars.onLockAxis.call(self, self.pointerEvent);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (temp === \"y\") {\n\t\t\t\t\t\t\t\t\tyChange = 0;\n\t\t\t\t\t\t\t\t} else if (temp === \"x\") {\n\t\t\t\t\t\t\t\t\txChange = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tx = startElementX + xChange * dragTolerance;\n\t\t\t\t\t\t\ty = startElementY + yChange * dragTolerance;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (snapX || snapY) {\n\t\t\t\t\t\t\tif (snapX) {\n\t\t\t\t\t\t\t\tx = snapX(x);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (snapY) {\n\t\t\t\t\t\t\t\ty = snapY(y);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (hasBounds) {\n\t\t\t\t\t\t\tif (x > maxX) {\n\t\t\t\t\t\t\t\tx = maxX + (x - maxX) * edgeTolerance;\n\t\t\t\t\t\t\t} else if (x < minX) {\n\t\t\t\t\t\t\t\tx = minX + (x - minX) * edgeTolerance;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!rotationMode) {\n\t\t\t\t\t\t\t\tif (y > maxY) {\n\t\t\t\t\t\t\t\t\ty = maxY + (y - maxY) * edgeTolerance;\n\t\t\t\t\t\t\t\t} else if (y < minY) {\n\t\t\t\t\t\t\t\t\ty = minY + (y - minY) * edgeTolerance;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!rotationMode) {\n\t\t\t\t\t\t\tx = Math.round(x); //helps work around an issue with some Win Touch devices\n\t\t\t\t\t\t\ty = Math.round(y);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self.x !== x || (self.y !== y && !rotationMode)) {\n\t\t\t\t\t\t\tif (rotationMode) {\n\t\t\t\t\t\t\t\tself.endRotation = self.x = self.endX = x;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (allowY) {\n\t\t\t\t\t\t\t\t\tself.y = self.endY = y;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (allowX) {\n\t\t\t\t\t\t\t\t\tself.x = self.endX = x;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdirty = true; //a flag that indicates we need to render the target next time the TweenLite.ticker dispatches a \"tick\" event (typically on a requestAnimationFrame) - this is a performance optimization (we shouldn't render on every move because sometimes many move events can get dispatched between screen refreshes, and that'd be wasteful to render every time)\n\t\t\t\t\t\t\tif (!self.isDragging) {\n\t\t\t\t\t\t\t\tself.isDragging = true;\n\t\t\t\t\t\t\t\t_dispatchEvent(self, \"dragstart\", \"onDragStart\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t//called when the mouse/touch is released\n\t\t\t\t\tonRelease = function(e, force) {\n\t\t\t\t\t\tif (!enabled || !self.isPressed || (e && touchID != null && !force && ((e.pointerId && e.pointerId !== touchID) || (e.changedTouches && !_hasTouchID(e.changedTouches, touchID))))) {  //for some Microsoft browsers, we must attach the listener to the doc rather than the trigger so that when the finger moves outside the bounds of the trigger, things still work. So if the event we're receiving has a pointerId that doesn't match the touchID, ignore it (for multi-touch)\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.isPressed = false;\n\t\t\t\t\t\tvar originalEvent = e,\n\t\t\t\t\t\t\twasDragging = self.isDragging,\n\t\t\t\t\t\t\ttouches, i, syntheticEvent, eventTarget;\n\t\t\t\t\t\tif (touchEventTarget) {\n\t\t\t\t\t\t\t_removeListener(touchEventTarget, \"touchend\", onRelease);\n\t\t\t\t\t\t\t_removeListener(touchEventTarget, \"touchmove\", onMove);\n\t\t\t\t\t\t\t_removeListener(touchEventTarget, \"touchcancel\", onRelease);\n\t\t\t\t\t\t\t_removeListener(_doc, \"touchstart\", _onMultiTouchDocument);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_removeListener(_doc, \"mousemove\", onMove);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_removeListener(_doc, \"mouseup\", onRelease);\n\t\t\t\t\t\tif (e && e.target) {\n\t\t\t\t\t\t\t_removeListener(e.target, \"mouseup\", onRelease);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdirty = false;\n\t\t\t\t\t\tif (_placeholderDiv.parentNode) { //_placeholderDiv just props open auto-scrolling containers so they don't collapse as the user drags left/up.\n\t\t\t\t\t\t\t_placeholderDiv.parentNode.removeChild(_placeholderDiv);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isClicking) {\n\t\t\t\t\t\t\tif (e) {\n\t\t\t\t\t\t\t\t_removeListener(e.target, \"change\", onRelease);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_setSelectable(triggers, false);\n\t\t\t\t\t\t\t_dispatchEvent(self, \"release\", \"onRelease\");\n\t\t\t\t\t\t\t_dispatchEvent(self, \"click\", \"onClick\");\n\t\t\t\t\t\t\tisClicking = false;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_removeFromRenderQueue(render);\n\t\t\t\t\t\tif (!rotationMode) {\n\t\t\t\t\t\t\ti = triggers.length;\n\t\t\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t\t\t_setStyle(triggers[i], \"cursor\", vars.cursor || \"move\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (wasDragging) {\n\t\t\t\t\t\t\tdragEndTime = _lastDragTime = _getTime();\n\t\t\t\t\t\t\tself.isDragging = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_dragCount--;\n\t\t\t\t\t\tif (e) {\n\t\t\t\t\t\t\tif (_isOldIE) {\n\t\t\t\t\t\t\t\te = _populateIEEvent(e, false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttouches = e.changedTouches;\n\t\t\t\t\t\t\tif (touches) { //touch events store the data slightly differently\n\t\t\t\t\t\t\t\te = touches[0];\n\t\t\t\t\t\t\t\tif (e !== touch && e.identifier !== touchID) { //Usually changedTouches[0] will be what we're looking for, but in case it's not, look through the rest of the array...(and Android browsers don't reuse the event like iOS)\n\t\t\t\t\t\t\t\t\ti = touches.length;\n\t\t\t\t\t\t\t\t\twhile (--i > -1 && (e = touches[i]).identifier !== touchID) {}\n\t\t\t\t\t\t\t\t\tif (i < 0) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.pointerEvent = originalEvent;\n\t\t\t\t\t\t\tself.pointerX = e.pageX;\n\t\t\t\t\t\t\tself.pointerY = e.pageY;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (originalEvent && !wasDragging) {\n\t\t\t\t\t\t\tif (interrupted && (vars.snap || vars.bounds)) { //otherwise, if the user clicks on the object while it's animating to a snapped position, and then releases without moving 3 pixels, it will just stay there (it should animate/snap)\n\t\t\t\t\t\t\t\tanimate(vars.throwProps);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_dispatchEvent(self, \"release\", \"onRelease\");\n\t\t\t\t\t\t\tif (!_isAndroid || originalEvent.type !== \"touchmove\") { //to accommodate native scrolling on Android devices, we have to immediately call onRelease() on the first touchmove event, but that shouldn't trigger a \"click\".\n\t\t\t\t\t\t\t\t_dispatchEvent(self, \"click\", \"onClick\");\n\t\t\t\t\t\t\t\teventTarget = originalEvent.target || originalEvent.srcElement || target; //old IE uses srcElement\n\t\t\t\t\t\t\t\tif (eventTarget.click) { //some browsers (like mobile Safari) don't properly trigger the click event\n\t\t\t\t\t\t\t\t\teventTarget.click();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (_doc.createEvent) {\n\t\t\t\t\t\t\t\t\tsyntheticEvent = _doc.createEvent(\"MouseEvents\");\n\t\t\t\t\t\t\t\t\tsyntheticEvent.initEvent(\"click\", true, true);\n\t\t\t\t\t\t\t\t\teventTarget.dispatchEvent(syntheticEvent);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclickTime = _getTime();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tanimate(vars.throwProps); //will skip if throwProps isn't defined or ThrowPropsPlugin isn't loaded.\n\t\t\t\t\t\t\tif (!_isOldIE && !self.allowEventDefault && originalEvent && (vars.dragClickables || !isClickable.call(self, originalEvent.target)) && wasDragging && (!allowNativeTouchScrolling || (touchDragAxis && allowNativeTouchScrolling === touchDragAxis)) && originalEvent.cancelable !== false) {\n\t\t\t\t\t\t\t\toriginalEvent.preventDefault();\n\t\t\t\t\t\t\t\tif (originalEvent.preventManipulation) {\n\t\t\t\t\t\t\t\t\toriginalEvent.preventManipulation();  //for some Microsoft browsers\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_dispatchEvent(self, \"release\", \"onRelease\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (wasDragging) {\n\t\t\t\t\t\t\t_dispatchEvent(self, \"dragend\", \"onDragEnd\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t},\n\n\t\t\t\t\tupdateScroll = function(e) {\n\t\t\t\t\t\tif (e && self.isDragging) {\n\t\t\t\t\t\t\tvar parent = e.target || e.srcElement || target.parentNode,\n\t\t\t\t\t\t\t\tdeltaX = parent.scrollLeft - parent._gsScrollX,\n\t\t\t\t\t\t\t\tdeltaY = parent.scrollTop - parent._gsScrollY;\n\t\t\t\t\t\t\tif (deltaX || deltaY) {\n\t\t\t\t\t\t\t\tstartPointerX -= deltaX;\n\t\t\t\t\t\t\t\tstartPointerY -= deltaY;\n\t\t\t\t\t\t\t\tparent._gsScrollX += deltaX;\n\t\t\t\t\t\t\t\tparent._gsScrollY += deltaY;\n\t\t\t\t\t\t\t\tsetPointerPosition(self.pointerX, self.pointerY);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tonClick = function(e) {\n\t\t\t\t\t\tvar time = _getTime(),\n\t\t\t\t\t\t\trecentlyClicked = time - clickTime < 40,\n\t\t\t\t\t\t\trecentlyDragged = time - dragEndTime < 40;\n\t\t\t\t\t\tif (self.isPressed || recentlyDragged || recentlyClicked) {\n\t\t\t\t\t\t\tif (e.preventDefault) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (recentlyClicked || (recentlyDragged && self.vars.suppressClickOnDrag !== false)) {\n\t\t\t\t\t\t\t\t\te.stopImmediatePropagation(); //otherwise some browsers bubble up click events, creating a duplicate.\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\te.returnValue = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (e.preventManipulation) {\n\t\t\t\t\t\t\t\te.preventManipulation();  //for some Microsoft browsers\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\told = Draggable.get(this.target);\n\t\t\t\tif (old) {\n\t\t\t\t\told.kill(); // avoids duplicates (an element can only be controlled by one Draggable)\n\t\t\t\t}\n\n\t\t\t\t//give the user access to start/stop dragging...\n\t\t\t\tthis.startDrag = function(e) {\n\t\t\t\t\tonPress(e);\n\t\t\t\t\tif (!self.isDragging) {\n\t\t\t\t\t\tself.isDragging = true;\n\t\t\t\t\t\t_dispatchEvent(self, \"dragstart\", \"onDragStart\");\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.drag = onMove;\n\t\t\t\tthis.endDrag = function(e) {\n\t\t\t\t\tonRelease(e, true);\n\t\t\t\t};\n\t\t\t\tthis.timeSinceDrag = function() {\n\t\t\t\t\treturn self.isDragging ? 0 : (_getTime() - dragEndTime) / 1000;\n\t\t\t\t};\n\t\t\t\tthis.hitTest = function(target, threshold) {\n\t\t\t\t\treturn Draggable.hitTest(self.target, target, threshold);\n\t\t\t\t};\n\n\t\t\t\tthis.getDirection = function(from, diagonalThreshold) { //from can be \"start\" (default), \"velocity\", or an element\n\t\t\t\t\tvar mode = (from === \"velocity\" && ThrowPropsPlugin) ? from : (typeof(from) === \"object\" && !rotationMode) ? \"element\" : \"start\",\n\t\t\t\t\t\txChange, yChange, ratio, direction, r1, r2;\n\t\t\t\t\tif (mode === \"element\") {\n\t\t\t\t\t\tr1 = _parseRect(self.target);\n\t\t\t\t\t\tr2 = _parseRect(from);\n\t\t\t\t\t}\n\t\t\t\t\txChange = (mode === \"start\") ? self.x - startElementX : (mode === \"velocity\") ? ThrowPropsPlugin.getVelocity(this.target, xProp) : (r1.left + r1.width / 2) - (r2.left + r2.width / 2);\n\t\t\t\t\tif (rotationMode) {\n\t\t\t\t\t\treturn xChange < 0 ? \"counter-clockwise\" : \"clockwise\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdiagonalThreshold = diagonalThreshold || 2;\n\t\t\t\t\t\tyChange = (mode === \"start\") ? self.y - startElementY : (mode === \"velocity\") ? ThrowPropsPlugin.getVelocity(this.target, yProp) : (r1.top + r1.height / 2) - (r2.top + r2.height / 2);\n\t\t\t\t\t\tratio = Math.abs(xChange / yChange);\n\t\t\t\t\t\tdirection = (ratio < 1 / diagonalThreshold) ? \"\" : (xChange < 0) ? \"left\" : \"right\";\n\t\t\t\t\t\tif (ratio < diagonalThreshold) {\n\t\t\t\t\t\t\tif (direction !== \"\") {\n\t\t\t\t\t\t\t\tdirection += \"-\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdirection += (yChange < 0) ? \"up\" : \"down\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn direction;\n\t\t\t\t};\n\n\n\t\t\t\tthis.applyBounds = function(newBounds) {\n\t\t\t\t\tvar x, y;\n\t\t\t\t\tif (newBounds && vars.bounds !== newBounds) {\n\t\t\t\t\t\tvars.bounds = newBounds;\n\t\t\t\t\t\treturn self.update(true);\n\t\t\t\t\t}\n\t\t\t\t\tsyncXY(true);\n\t\t\t\t\tcalculateBounds();\n\t\t\t\t\tif (hasBounds) {\n\t\t\t\t\t\tx = self.x;\n\t\t\t\t\t\ty = self.y;\n\t\t\t\t\t\tif (hasBounds) {\n\t\t\t\t\t\t\tif (x > maxX) {\n\t\t\t\t\t\t\t\tx = maxX;\n\t\t\t\t\t\t\t} else if (x < minX) {\n\t\t\t\t\t\t\t\tx = minX;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (y > maxY) {\n\t\t\t\t\t\t\t\ty = maxY;\n\t\t\t\t\t\t\t} else if (y < minY) {\n\t\t\t\t\t\t\t\ty = minY;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self.x !== x || self.y !== y) {\n\t\t\t\t\t\t\tself.x = self.endX = x;\n\t\t\t\t\t\t\tif (rotationMode) {\n\t\t\t\t\t\t\t\tself.endRotation = x;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tself.y = self.endY = y;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdirty = true;\n\t\t\t\t\t\t\trender();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn self;\n\t\t\t\t};\n\n\t\t\t\tthis.update = function(applyBounds, ignoreExternalChanges) {\n\t\t\t\t\tvar x = self.x,\n\t\t\t\t\t\ty = self.y;\n\t\t\t\t\tupdateMatrix();\n\t\t\t\t\tif (applyBounds) {\n\t\t\t\t\t\tself.applyBounds();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (dirty && ignoreExternalChanges) {\n\t\t\t\t\t\t\trender();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsyncXY(true);\n\t\t\t\t\t}\n\t\t\t\t\tif (self.isPressed && ((allowX && Math.abs(x - self.x) > 0.01) || (allowY && (Math.abs(y - self.y) > 0.01 && !rotationMode)))) {\n\t\t\t\t\t\trecordStartPositions();\n\t\t\t\t\t}\n\t\t\t\t\treturn self;\n\t\t\t\t};\n\n\t\t\t\tthis.enable = function(type) {\n\t\t\t\t\tvar id, i, trigger;\n\t\t\t\t\tif (type !== \"soft\") {\n\t\t\t\t\t\ti = triggers.length;\n\t\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t\ttrigger = triggers[i];\n\t\t\t\t\t\t\t_addListener(trigger, \"mousedown\", onPress);\n\t\t\t\t\t\t\t_addListener(trigger, \"touchstart\", onPress);\n\t\t\t\t\t\t\t_addListener(trigger, \"click\", onClick, true);\n\t\t\t\t\t\t\tif (!rotationMode) {\n\t\t\t\t\t\t\t\t_setStyle(trigger, \"cursor\", vars.cursor || \"move\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_setStyle(trigger, \"touchCallout\", \"none\");\n\t\t\t\t\t\t\t_setStyle(trigger, \"touchAction\", (allowX === allowY || scrollProxy) ? \"none\" : allowX ? \"pan-y\" : \"pan-x\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_setSelectable(triggers, false);\n\t\t\t\t\t}\n\t\t\t\t\t_addScrollListener(self.target, updateScroll);\n\t\t\t\t\tenabled = true;\n\t\t\t\t\tif (ThrowPropsPlugin && type !== \"soft\") {\n\t\t\t\t\t\tThrowPropsPlugin.track(scrollProxy || target, (xyMode ? \"x,y\" : rotationMode ? \"rotation\" : \"top,left\"));\n\t\t\t\t\t}\n\t\t\t\t\tif (scrollProxy) {\n\t\t\t\t\t\tscrollProxy.enable();\n\t\t\t\t\t}\n\t\t\t\t\ttarget._gsDragID = id = \"d\" + (_lookupCount++);\n\t\t\t\t\t_lookup[id] = this;\n\t\t\t\t\tif (scrollProxy) {\n\t\t\t\t\t\tscrollProxy.element._gsDragID = id;\n\t\t\t\t\t}\n\t\t\t\t\tTweenLite.set(target, {x:\"+=0\", overwrite:false}); //simply ensures that there's a _gsTransform on the element.\n\t\t\t\t\tapplyObj = {\n\t\t\t\t\t\tt:target,\n\t\t\t\t\t\tdata:_isOldIE ? cssVars : target._gsTransform,\n\t\t\t\t\t\ttween:{},\n\t\t\t\t\t\tsetRatio:(_isOldIE ? function() { TweenLite.set(target, tempVars); } : CSSPlugin._internals.setTransformRatio || CSSPlugin._internals.set3DTransformRatio)\n\t\t\t\t\t};\n\t\t\t\t\tself.update(true);\n\t\t\t\t\treturn self;\n\t\t\t\t};\n\n\t\t\t\tthis.disable = function(type) {\n\t\t\t\t\tvar dragging = self.isDragging,\n\t\t\t\t\t\ti, trigger;\n\t\t\t\t\tif (!rotationMode) {\n\t\t\t\t\t\ti = triggers.length;\n\t\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t\t_setStyle(triggers[i], \"cursor\", null);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (type !== \"soft\") {\n\t\t\t\t\t\ti = triggers.length;\n\t\t\t\t\t\twhile (--i > -1) {\n\t\t\t\t\t\t\ttrigger = triggers[i];\n\t\t\t\t\t\t\t_setStyle(trigger, \"touchCallout\", null);\n\t\t\t\t\t\t\t_setStyle(trigger, \"touchAction\", null);\n\t\t\t\t\t\t\t_removeListener(trigger, \"mousedown\", onPress);\n\t\t\t\t\t\t\t_removeListener(trigger, \"touchstart\", onPress);\n\t\t\t\t\t\t\t_removeListener(trigger, \"click\", onClick);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_setSelectable(triggers, true);\n\t\t\t\t\t\tif (touchEventTarget) {\n\t\t\t\t\t\t\t_removeListener(touchEventTarget, \"touchcancel\", onRelease);\n\t\t\t\t\t\t\t_removeListener(touchEventTarget, \"touchend\", onRelease);\n\t\t\t\t\t\t\t_removeListener(touchEventTarget, \"touchmove\", onMove);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_removeListener(_doc, \"mouseup\", onRelease);\n\t\t\t\t\t\t_removeListener(_doc, \"mousemove\", onMove);\n\t\t\t\t\t}\n\t\t\t\t\t_removeScrollListener(target, updateScroll);\n\t\t\t\t\tenabled = false;\n\t\t\t\t\tif (ThrowPropsPlugin && type !== \"soft\") {\n\t\t\t\t\t\tThrowPropsPlugin.untrack(scrollProxy || target, (xyMode ? \"x,y\" : rotationMode ? \"rotation\" : \"top,left\"));\n\t\t\t\t\t}\n\t\t\t\t\tif (scrollProxy) {\n\t\t\t\t\t\tscrollProxy.disable();\n\t\t\t\t\t}\n\t\t\t\t\t_removeFromRenderQueue(render);\n\t\t\t\t\tself.isDragging = self.isPressed = isClicking = false;\n\t\t\t\t\tif (dragging) {\n\t\t\t\t\t\t_dispatchEvent(self, \"dragend\", \"onDragEnd\");\n\t\t\t\t\t}\n\t\t\t\t\treturn self;\n\t\t\t\t};\n\n\t\t\t\tthis.enabled = function(value, type) {\n\t\t\t\t\treturn arguments.length ? (value ? self.enable(type) : self.disable(type)) : enabled;\n\t\t\t\t};\n\n\t\t\t\tthis.kill = function() {\n\t\t\t\t\tself.isThrowing = false;\n\t\t\t\t\tTweenLite.killTweensOf(scrollProxy || target, true, killProps);\n\t\t\t\t\tself.disable();\n\t\t\t\t\tdelete _lookup[target._gsDragID];\n\t\t\t\t\treturn self;\n\t\t\t\t};\n\n\t\t\t\tif (type.indexOf(\"scroll\") !== -1) {\n\t\t\t\t\tscrollProxy = this.scrollProxy = new ScrollProxy(target, _extend({onKill:function() { //ScrollProxy's onKill() gets called if/when the ScrollProxy senses that the user interacted with the scroll position manually (like using the scrollbar). IE9 doesn't fire the \"mouseup\" properly when users drag the scrollbar of an element, so this works around that issue.\n\t\t\t\t\t\tif (self.isPressed) {\n\t\t\t\t\t\t\tonRelease(null);\n\t\t\t\t\t\t}}}, vars));\n\t\t\t\t\t//a bug in many Android devices' stock browser causes scrollTop to get forced back to 0 after it is altered via JS, so we set overflow to \"hidden\" on mobile/touch devices (they hide the scroll bar anyway). That works around the bug. (This bug is discussed at https://code.google.com/p/android/issues/detail?id=19625)\n\t\t\t\t\ttarget.style.overflowY = (allowY && !_isTouchDevice) ? \"auto\" : \"hidden\";\n\t\t\t\t\ttarget.style.overflowX = (allowX && !_isTouchDevice) ? \"auto\" : \"hidden\";\n\t\t\t\t\ttarget = scrollProxy.content;\n\t\t\t\t}\n\n\t\t\t\tif (vars.force3D !== false) {\n\t\t\t\t\tTweenLite.set(target, {force3D:true}); //improve performance by forcing a GPU layer when possible\n\t\t\t\t}\n\t\t\t\tif (rotationMode) {\n\t\t\t\t\tkillProps.rotation = 1;\n\t\t\t\t} else {\n\t\t\t\t\tif (allowX) {\n\t\t\t\t\t\tkillProps[xProp] = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (allowY) {\n\t\t\t\t\t\tkillProps[yProp] = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (rotationMode) {\n\t\t\t\t\ttempVars = _tempVarsRotation;\n\t\t\t\t\tcssVars = tempVars.css;\n\t\t\t\t\ttempVars.overwrite = false;\n\t\t\t\t} else if (xyMode) {\n\t\t\t\t\ttempVars = (allowX && allowY) ? _tempVarsXY : allowX ? _tempVarsX : _tempVarsY;\n\t\t\t\t\tcssVars = tempVars.css;\n\t\t\t\t\ttempVars.overwrite = false;\n\t\t\t\t}\n\n\t\t\t\tthis.enable();\n\t\t\t},\n\t\t\tp = Draggable.prototype = new EventDispatcher();\n\n\t\tp.constructor = Draggable;\n\t\tp.pointerX = p.pointerY = 0;\n\t\tp.isDragging = p.isPressed = false;\n\t\tDraggable.version = \"0.14.1\";\n\t\tDraggable.zIndex = 1000;\n\n\t\t_addListener(_doc, \"touchcancel\", function() {\n\t\t\t//some older Android devices intermittently stop dispatching \"touchmove\" events if we don't listen for \"touchcancel\" on the document. Very strange indeed.\n\t\t});\n\t\t_addListener(_doc, \"contextmenu\", function(e) {\n\t\t\tvar p;\n\t\t\tfor (p in _lookup) {\n\t\t\t\tif (_lookup[p].isPressed) {\n\t\t\t\t\t_lookup[p].endDrag();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tDraggable.create = function(targets, vars) {\n\t\t\tif (typeof(targets) === \"string\") {\n\t\t\t\ttargets = TweenLite.selector(targets);\n\t\t\t}\n\t\t\tvar a = (!targets || targets.length === 0) ? [] : _isArrayLike(targets) ? _flattenArray(targets) : [targets],\n\t\t\t\ti = a.length;\n\t\t\twhile (--i > -1) {\n\t\t\t\ta[i] = new Draggable(a[i], vars);\n\t\t\t}\n\t\t\treturn a;\n\t\t};\n\n\t\tDraggable.get = function(target) {\n\t\t\treturn _lookup[(_unwrapElement(target) || {})._gsDragID];\n\t\t};\n\n\t\tDraggable.timeSinceDrag = function() {\n\t\t\treturn (_getTime() - _lastDragTime) / 1000;\n\t\t};\n\n\t\tvar _tempRect = {}, //reuse to reduce garbage collection tasks\n\t\t\t_oldIERect = function(e) { //IE8 doesn't support getBoundingClientRect(), so we use this as a backup.\n\t\t\t\tvar top = 0,\n\t\t\t\t\tleft = 0,\n\t\t\t\t\twidth = e.offsetWidth,\n\t\t\t\t\theight = e.offsetHeight;\n\t\t\t\te = _unwrapElement(e);\n\t\t\t\twhile(e) {\n\t\t\t\t\ttop += e.offsetTop;\n\t\t\t\t\tleft += e.offsetLeft;\n\t\t\t\t\te = e.offsetParent;\n\t\t\t\t}\n\t\t\t\treturn {top: top, left: left, width: width, height: height};\n\t\t\t},\n\t\t\t_parseRect = function(e, undefined) { //accepts a DOM element, a mouse event, or a rectangle object and returns the corresponding rectangle with left, right, width, height, top, and bottom properties\n\t\t\t\tif (e === window) {\n\t\t\t\t\t_tempRect.left = _tempRect.top = 0;\n\t\t\t\t\t_tempRect.width = _tempRect.right = _docElement.clientWidth || e.innerWidth || _doc.body.clientWidth || 0;\n\t\t\t\t\t_tempRect.height = _tempRect.bottom = ((e.innerHeight || 0) - 20 < _docElement.clientHeight) ? _docElement.clientHeight : e.innerHeight || _doc.body.clientHeight || 0;\n\t\t\t\t\treturn _tempRect;\n\t\t\t\t}\n\t\t\t\tvar r = (e.pageX !== undefined) ? {left:e.pageX - _getDocScrollLeft(), top:e.pageY - _getDocScrollTop(), right:e.pageX - _getDocScrollLeft() + 1, bottom:e.pageY - _getDocScrollTop() + 1} : (!e.nodeType && e.left !== undefined && e.top !== undefined) ? e : _isOldIE ? _oldIERect(e) : _unwrapElement(e).getBoundingClientRect();\n\t\t\t\tif (r.right === undefined && r.width !== undefined) {\n\t\t\t\t\tr.right = r.left + r.width;\n\t\t\t\t\tr.bottom = r.top + r.height;\n\t\t\t\t} else if (r.width === undefined) { //some browsers don't include width and height properties. We can't just set them directly on r because some browsers throw errors, so create a new generic object.\n\t\t\t\t\tr = {width: r.right - r.left, height: r.bottom - r.top, right: r.right, left: r.left, bottom: r.bottom, top: r.top};\n\t\t\t\t}\n\t\t\t\treturn r;\n\t\t\t};\n\n\t\tDraggable.hitTest = function(obj1, obj2, threshold) {\n\t\t\tif (obj1 === obj2) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar r1 = _parseRect(obj1),\n\t\t\t\tr2 = _parseRect(obj2),\n\t\t\t\tisOutside = (r2.left > r1.right || r2.right < r1.left || r2.top > r1.bottom || r2.bottom < r1.top),\n\t\t\t\toverlap, area, isRatio;\n\t\t\tif (isOutside || !threshold) {\n\t\t\t\treturn !isOutside;\n\t\t\t}\n\t\t\tisRatio = ((threshold + \"\").indexOf(\"%\") !== -1);\n\t\t\tthreshold = parseFloat(threshold) || 0;\n\t\t\toverlap = {left:Math.max(r1.left, r2.left), top:Math.max(r1.top, r2.top)};\n\t\t\toverlap.width = Math.min(r1.right, r2.right) - overlap.left;\n\t\t\toverlap.height = Math.min(r1.bottom, r2.bottom) - overlap.top;\n\t\t\tif (overlap.width < 0 || overlap.height < 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (isRatio) {\n\t\t\t\tthreshold *= 0.01;\n\t\t\t\tarea = overlap.width * overlap.height;\n\t\t\t\treturn (area >= r1.width * r1.height * threshold || area >= r2.width * r2.height * threshold);\n\t\t\t}\n\t\t\treturn (overlap.width > threshold && overlap.height > threshold);\n\t\t};\n\n\t\t_placeholderDiv.style.cssText = \"visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;\";\n\n\t\treturn Draggable;\n\n\t}, true);\n\n\n}); if (_gsScope._gsDefine) { _gsScope._gsQueue.pop()(); }\n\n//export to AMD/RequireJS and CommonJS/Node (precursor to full modular build system coming at a later date)\n(function(name) {\n\t\"use strict\";\n\tvar getGlobal = function() {\n\t\treturn (_gsScope.GreenSockGlobals || _gsScope)[name];\n\t};\n\tif (typeof(define) === \"function\" && define.amd) { //AMD\n\t\tdefine([\"TweenLite\"], getGlobal);\n\t} else if (typeof(module) !== \"undefined\" && module.exports) { //node\n\t\trequire(\"../TweenLite.js\");\n\t\trequire(\"../plugins/CSSPlugin.js\");\n\t\tmodule.exports = getGlobal();\n\t}\n}(\"Draggable\"));"]}